{"version":3,"sources":["_pages/LoginPage/LoginPage.module.css","_pages/LoadingPage/LoadingPage.module.css","_pages/HomePage/HomePage.module.css","components/Landing/LogInForm/modal/modal.module.css","components/Navigation/NavBar/NavBar.module.css","components/Navigation/ProfileDropdownInitiator/ProfileDropdownInitiator.module.css","components/Home/PostForm/modal/modal.module.css","components/Home/EverythingPosts/PostList/PostList.module.css","components/Home/EverythingPosts/EditDeleteComment/modal/modal.module.css","components/Home/EverythingPosts/CommentList/CommentList.module.css","components/Home/EverythingPosts/EditDeletePost/modal/modal.module.css","App.module.css","components/LoadingSpinner/LoadingSpinner.module.css","_pages/Error404Page/Error404Page.module.css","components/Home/EverythingPosts/Post/Post.module.css","_pages/RegisterPage/RegisterPage.module.css","_pages/ProfilePage/ProfilePage.module.css","utils/useIPFS.js","components/Friends/FriendList/FriendList.module.css","components/Friends/AddFriends/AddFriends.module.css","components/CHAT/ChatBox/ChatBox.module.css","components/Landing/RegisterForm/RegisterForm.module.css","components/Navigation/TestDropDown/TestDropDown.module.css","components/Home/EverythingPosts/EditDeleteComment/EditDeleteComment.module.css","components/Home/EverythingPosts/EditDeletePost/EditDeletePost.module.css","redux/features/addOneSlice.ts","redux/features/roomSlice.ts","redux/features/eUserAddresses.ts","redux/features/currentUserSlice.ts","redux/features/previousMessagesSlice.ts","redux/features/onlineUsersSlice.ts","redux/features/socketSlice.ts","redux/store.ts","utils/history.ts","GQL/queries/CurrentUser.js","GQL/mutations/Login.js","GQL/mutations/Signup.js","components/LoadingSpinner/LoadingSpinner.js","components/Landing/RegisterForm/RegisterForm.js","components/Landing/LogInForm/modal/modal.js","components/Landing/LogInForm/LogInForm.js","_pages/LoginPage/LoginPage.js","_pages/LoadingPage/LoadingPage.tsx","utils/requireAuth.js","components/Navigation/SideBar/SideBar.js","components/Navigation/SideNav/SideNav.js","redux/hooks.ts","GQL/mutations/Logout.js","components/Navigation/ProfileDropdownInitiator/ProfileDropdownInitiator.js","components/Navigation/ProfileDropdownInitiator/profile.png","components/Navigation/TestDropDown/profile.png","components/Navigation/TestDropDown/TestDropDown.js","components/Navigation/NavBar/NavBar.js","components/Home/EverythingPosts/MakePost/profile.png","components/Home/PostForm/modal/modal.js","components/Home/PostForm/x.svg","GQL/mutations/addPost.js","GQL/mutations/editUser.js","components/Home/PostForm/PostForm.js","components/Home/EverythingPosts/MakePost/MakePost.js","GQL/mutations/editComment.js","GQL/mutations/editPost.js","GQL/mutations/addComment.js","components/Home/EverythingPosts/MakeComment/MakeComment.js","components/Home/EverythingPosts/EditDeleteComment/modal/modal.js","components/Home/EverythingPosts/EditDeleteComment/x.svg","GQL/mutations/deleteComment.js","components/Home/EverythingPosts/EditDeleteComment/EditDeleteComment.js","components/Home/EverythingPosts/Comment/Comment.js","GQL/mutations/deletePost.js","components/Home/EverythingPosts/CommentList/CommentList.js","components/Home/EverythingPosts/EditDeletePost/modal/modal.js","components/Home/EverythingPosts/EditDeletePost/x.svg","components/Home/EverythingPosts/EditDeletePost/EditDeletePost.js","components/Home/EverythingPosts/Post/Post.js","components/Home/EverythingPosts/PostList/PostList.js","_pages/HomePage/HomePage.js","_pages/RegisterPage/RegisterPage.js","GQL/mutations/addConversation.js","GQL/mutations/editMessage.js","GQL/queries/getMessages.js","components/CHAT/useMessages.js","components/CHAT/useChatRoom.js","components/CHAT/ChatBox/ChatBox.js","components/CHAT/RoomsList/RoomsList.js","_pages/ChatPage/ChatPage.js","_pages/Error404Page/Error404Page.js","components/Profile/Info/Info.js","components/Profile/ProfilePic/ProfilePic.js","_pages/ProfilePage/ProfilePage.js","GQL/queries/convoExists.js","components/Friends/FriendList/FriendList.js","GQL/queries/getUsers.js","components/Friends/AddFriends/AddFriends.js","_pages/FriendPage/FriendPage.js","App.js","GQL/queries/setUser.js","index.js","components/Home/EverythingPosts/Comment/Comment.module.css","components/Profile/Info/Info.module.css","components/Landing/LogInForm/LogInForm.module.css","components/Home/PostForm/PostForm.module.css","components/CHAT/RoomsList/RoomList.module.css","_pages/ChatPage/ChatPage.module.css","_pages/FriendPage/FriendPage.module.css","components/Navigation/SideBar/SideBar.module.css","components/Navigation/SideNav/SideNav.module.css","components/Home/EverythingPosts/MakeComment/MakeComment.module.css","components/Home/EverythingPosts/MakePost/MakePost.module.css","components/Profile/ProfilePic/ProfilePic.module.css"],"names":["module","exports","client","ipfsHttpClient","useIPFS","useState","ipfsBuffer","setIPFSBuffer","setFileUrl","captureFile","e","a","preventDefault","console","log","file","target","files","reader","window","FileReader","readAsArrayBuffer","onloadend","Buffer","result","captureFileAndUploadToIPFS","add","progress","prog","added","url","path","uploadToIPFS","data","addOneSlice","createSlice","name","initialState","value","reducers","addOne","state","action","payload","actions","currentRoomSlice","setRoom","eUserAddressesSlice","setUserAddresses","currentUserSlice","setCurrentUser","Object","assign","previousMessagesSlice","setPreviousMessages","onlineUsersSlice","setOnlineUsers","socketSlice","setSocket","store","configureStore","reducer","currentNumber","addOneReducer","currentRoom","currentRoomReducer","userAddresses","eUserAddressesReducer","currentUser","currentUserReducer","previousMessages","previousMessagesReducer","onlineUsers","onlineUsersReducer","socket","socketSliceReducer","createBrowserHistory","gql","LoadingSpinner","spinner","useRef","setFixAnimation","useEffect","gsap","from","current","scale","duration","className","styles","container","ref","loader","RegisterForm","setShowModal","showModal","setErrors","useMutation","signUpMutation","signup","firstName","setFirstName","lastName","setLastName","setName","email","setEmail","password","setPassword","loading","setLoading","firstAndLastNameCombined","formContainer","onClick","xContainer","xmlns","width","height","x","viewBox","d","titleContainer","horizontalLine","form","onSubmit","variables","refetchQueries","query","CurrentUserQuery","awaitRefetchQueries","then","history","push","catch","err","errors","graphQLErrors","map","error","message","sameLineInputContainer","type","placeholder","sameLineInput","onChange","inputItem","btnContainer","button","signUp","Modal","content","Open","modal","fixAnimation","y","opacity","ReactDOM","createPortal","modal_background","stopPropagation","hide","document","querySelector","LogInForm","loginMutation","login","res","createNewAccount","LoginPage","textContainer","loginFormContainer","title","paragraph","LoadingPage","RequireAuth","WrappedComponent","props","useLocation","pathname","useQuery","getCurrentUser","user2","SideBar","includes","optionList","to","option","src","alt","image","style","SideNav","open","setOpen","hamburger","line","useAppDispatch","useDispatch","useAppSelector","useSelector","ProfileDropdownInitiator","profilePicContainer","profilePic","TestDropDown","socketRef","socketIdFromNav","currentUserQuery","refetch","mutation","logout","close","setClose","dispatch","addEventListener","handleClickOutside","removeEventListener","wrapperRef","event","contains","onMouseLeave","profile","onMouseOver","profileDropdownContainer","active","deactivated","profileDropdownContainer1","profileDropdownList","emit","disconnect","NavBar","navShow","id","socketIOClient","transports","rejectUnauthorized","userId","on","entries","onlineIds","Array","container0","container69","children","PostForm","postText","setPostText","addPostMutation","addPost","editUserMutation","editUser","friends","createPostContainer","x_svg","X_SVG","name_and_pic_Container","length","post","contentContainer","inputContainer","input","postBtnContainer","postBtn","MakePost","picInputContainer","MakeComment","commentOpen","setCommentOpen","postId","commentText","setCommentText","addCommentMutation","addComment","editPostMutation","editPost","comment","btn","EditDeleteComment","editCommentMutation","editComment","deleteCommentMutation","deleteComment","editBtn","deleteBtn","Comment","editDeleteOpen","setEditDeleteOpen","likedBy","ableToLike","setAbleToLike","profilePic_and_CommentContainer","commentContainer","editDots","likeCountContainer","objectIntoArray","flat","listOfLikeIds","likeId","oneLess","slice","deleteLike","optimisticResponse","__typename","copyArray","oneMore","addLike","onLikeClick","role","likeCount","likeBtn","CommentList","commentList","commentListOpen","setCommentListOpen","listPagination","setListPagination","commentListContainer","index","reverse","paginationBtn","EditDeletePost","postContent","deletePostMutation","deletePost","Post","likeList","commentCount","date","userPostIds","setUserPostIds","postIds","posts","individualPost0","individualPost","name_edit_Container","picNameContainer","nameDateContainer","parseInt","post_likes_and_commentCount_Container","likeCommentCountContainer","likeHandImage","postLikes","hr","like_comment_btn_container","commentBtn","PostList","friendList","setFriendList","postList","setPostList","postListDone","setPostListDone","finishedFriendList","friend","completeListOfMyPostsAndFriendPosts","concat","sort","b","time","postListContainer","paginatedPostList","Date","toString","comments","renderPosts","loadMoreContainer","HomePage","RegisterPage","useMessages","room","messageList","setMessageList","selectedFriend","setSelectedFriend","addConversationMutation","editMessageMutation","editMessage","useLazyQuery","getMessagesQuery","convoId","getCurrentFriendMessages","messagesLoading","messagesError","messagesData","messageRefetch","networkStatus","called","undefined","messages","alteredMessageList","msg","newMessage","body","isOwner","senderId","addMessage","NEW_MESSAGE_EVENT","useChatRoom","setMessages","conversationId","setConversationId","hashRoom","setHashRoom","incomingMessage","sendMessage","messageBody","combineAddresses","address1","address2","user1","makeUnique","address","userArray","i","letter","join","hash","sha256","create","update","hex","ChatBox","currentFriend","chooseRoomPage","setChooseRoomPage","messageRef","setConvoId","setNewMessage","firsTimeInChat","setFirstTimeInChat","scroll","delay","ms","Promise","setTimeout","scrollIntoView","behavior","friendNameContainer","backContainer","backArrow","online","offline","messageContainer","noRoomMessageContainer","listLength","blue","red","renderMessages","inputBtnContainer","RoomsList","setCurrentFriend","activeConversations","setActiveConversations","roomChange","setRoomChange","conversations","setRoom_setConvoId_getMessages","personId","marginBottom","marginTop","roomListContainer","person","selectedRoom","profilePicNameContainer","roomProfilePicContainer","roomProfilePic","ChatPage","container1","container2","chatList","listMoveIn","listMoveOut","chatArea","chatMoveIn","chatMoveOut","Error404Page","ProfileInfo","nameText","setNameText","emailText","setEmailText","ageText","setAgeText","editActive","setEditActive","age","setAge","infoItems2","Name","nametext","Email","Age","agetext","item","infoTopics","infoEdit","values","Number","onTextChange","checkBtn","xBtn","renderInfoItems","ProfilePic","showEditContainer","uploadIPFS_editUser","pic","onHoverContainer","fileButtonLabel","fileButton","ProfilePage","Info","FriendList","friendListOpen","setFriendListOpen","addConversation","setHash","convoData","setConvoData","setConvoData2","setFriends","setFriendId","clicked","setClicked","convoExists","fetchPolicy","nextFetchPolicy","onCompleted","convoExistsData","checkIfConvoExists","convoExistsLoading","deleteFriend","friendId","deleteConversation","addConvoToUser","clickedFriendId","startConversation","conversationExists","backArrowContainer","friendListContainer","friendListContainerCenter","converstationIds","friendContainer","nameEmailContainer","friendProfilePic","buttons","chatStarted","startChat","delete","renderFriends","AddFriends","getUsers","searchBarText","setSearchBarText","addFriend","friendIdList","me","seachContainer","cardsListContainer","paddingBottomWorkingPlaceHolder","cardsListContainerCenter","users","noCurrentUserArray","filter","user","arrayOfFriendIds","startsWith","userCard","userProfilePic","buttonContainer","addFriendButton0","addedFriendButton","addFriendButton","renderAvaliableUsers","FriendPage","App","exact","component","cache","InMemoryCache","init","persistCache","storage","localStorage","httpLink","HttpLink","uri","ApolloClient","link","connectToDevTools","readQuery","setUser","writeData","render","StrictMode","ApolloProvider","getElementById"],"mappings":"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","file":"static/js/main.eca83ed8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LoginPage_container__2iFFe\",\"textContainer\":\"LoginPage_textContainer__1IuLZ\",\"title\":\"LoginPage_title__3G4O7\",\"paragraph\":\"LoginPage_paragraph__2k2GR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LoadingPage_container__1-y-O\",\"titleContainer\":\"LoadingPage_titleContainer__1mEfc\",\"title\":\"LoadingPage_title__uPt31\",\"bigger\":\"LoadingPage_bigger__260ww\",\"loader\":\"LoadingPage_loader__3Ov1M\",\"spin\":\"LoadingPage_spin__3lYc7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container0\":\"HomePage_container0__3gtUY\",\"container\":\"HomePage_container__3QEBK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal_background\":\"modal_modal_background__3eAM4\",\"modal\":\"modal_modal__tUzjx\",\"hide\":\"modal_hide__265Lm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container0\":\"NavBar_container0__2cExW\",\"container\":\"NavBar_container__2zp7O\",\"container69\":\"NavBar_container69__2dffk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profilePicContainer\":\"ProfileDropdownInitiator_profilePicContainer__1P5LQ\",\"profilePic\":\"ProfileDropdownInitiator_profilePic__e2F9v\",\"dropDownDecoy\":\"ProfileDropdownInitiator_dropDownDecoy__1Icbw\",\"imageDecoy\":\"ProfileDropdownInitiator_imageDecoy__1T0sS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal_background\":\"modal_modal_background__3vvAt\",\"modal\":\"modal_modal__2Ifao\",\"hide\":\"modal_hide__33Mir\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PostList_container__3cvnV\",\"postListContainer\":\"PostList_postListContainer__1hWUo\",\"loadMoreContainer\":\"PostList_loadMoreContainer__3zZIK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal_background\":\"modal_modal_background__3vcRj\",\"modal\":\"modal_modal__19nDt\",\"hide\":\"modal_hide__2s6ua\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CommentList_container__lMBfP\",\"paginationBtn\":\"CommentList_paginationBtn__1c8oz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal_background\":\"modal_modal_background__1HGYh\",\"modal\":\"modal_modal__DI2ud\",\"hide\":\"modal_hide__28D_x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"navBar\":\"App_navBar__1AtB5\",\"SideBar\":\"App_SideBar__1AEQi\",\"fullPages\":\"App_fullPages__3W-KV\",\"dynamicPages\":\"App_dynamicPages__1XPoF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LoadingSpinner_container__X0ORX\",\"loader\":\"LoadingSpinner_loader__h1QLS\",\"spin\":\"LoadingSpinner_spin__WvXLY\",\"hide\":\"LoadingSpinner_hide__1sdaK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Error404Page_container__16n2T\",\"title\":\"Error404Page_title__2VBXD\",\"btn\":\"Error404Page_btn__1HgI4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"individualPost0\":\"Post_individualPost0__3toYs\",\"individualPost\":\"Post_individualPost__3LMMO\",\"name_edit_Container\":\"Post_name_edit_Container__aRz6_\",\"picNameContainer\":\"Post_picNameContainer__mEw4y\",\"profilePic\":\"Post_profilePic__1bxLi\",\"nameDateContainer\":\"Post_nameDateContainer__3mr4g\",\"name\":\"Post_name__2FYlS\",\"date\":\"Post_date__3M7k7\",\"editDots\":\"Post_editDots__y2bpL\",\"editDeleteContainer\":\"Post_editDeleteContainer__2Xbpi\",\"optionBtn\":\"Post_optionBtn__2Pei4\",\"edit\":\"Post_edit__2OZ-X\",\"post_likes_and_commentCount_Container\":\"Post_post_likes_and_commentCount_Container__xeqos\",\"post\":\"Post_post__2BCze\",\"likeCommentCountContainer\":\"Post_likeCommentCountContainer__36Dl9\",\"likeCountContainer\":\"Post_likeCountContainer__1y03W\",\"likeHandImage\":\"Post_likeHandImage__1Hayf\",\"postLikes\":\"Post_postLikes__1oFSM\",\"commentCount\":\"Post_commentCount__m5rEt\",\"like_comment_btn_container\":\"Post_like_comment_btn_container__3kTuP\",\"likeBtn\":\"Post_likeBtn__1JvDx\",\"commentBtn\":\"Post_commentBtn__10ABH\",\"hr\":\"Post_hr__2f1x_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"RegisterPage_container__2yYmg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfilePage_container__1HB9N\"};","import React, { useEffect, useRef, useState, useCallback } from \"react\";\n\n// import { create } from \"ipfs-http-client\";\n// const ipfs = create({\n//   host: \"ipfs.infura.io\",\n//   port: 5001,\n//   protocol: \"https\",\n// });\nimport { create as ipfsHttpClient } from \"ipfs-http-client\";\nconst client = ipfsHttpClient(\"https://ipfs.infura.io:5001/api/v0\");\n\nconst useIPFS = () => {\n  const [ipfsBuffer, setIPFSBuffer] = useState(null);\n  const [fileUrl, setFileUrl] = useState(null);\n  /* ----------------------------------IPFS--------------------------------- */\n  const captureFile = async (e) => {\n    e.preventDefault();\n    console.log(\"File captured\");\n    const file = e.target.files[0];\n    const reader = new window.FileReader();\n    console.log(file);\n    reader.readAsArrayBuffer(file);\n    reader.onloadend = () => {\n      setIPFSBuffer(Buffer(reader.result));\n      console.log(\"Buffer\", Buffer(reader.result));\n    };\n    return ipfsBuffer;\n  };\n  // const captureJSON = () => {\n  //   // e.preventDefault();\n  //   console.log(\"File captured\");\n  //   const stuff = data;\n  //   const str = JSON.stringify(stuff);\n  //   const bytes = new TextEncoder().encode(str);\n  //   const blob = new Blob([bytes], {\n  //     type: \"application/json;charset=utf-8\",\n  //   });\n  //   const reader = new window.FileReader();\n  //   reader.readAsArrayBuffer(blob);\n  //   reader.onloadend = () => {\n  //     setIPFSBuffer(Buffer(reader.result));\n  //     console.log(\"Buffer\", Buffer(reader.result));\n  //   };\n  //   return Buffer(reader.result);\n  // };\n  // const ipfsSubmit = async (e) => {\n  //   e.preventDefault();\n  //   console.log(\"Submitting to IPFS\");\n\n  //   const result = await ipfs.add(ipfsBuffer);\n  //   console.log(\"IPFS RESULT:\", result.path);\n  //   const picHash = result.path;\n  //   console.log(result.path);\n  //   return `https://ipfs.infura.io/ipfs/${picHash}`;\n  //   /* -------------------------------------------------------------------------- */\n  //   /* --------------------------- store on blockchain -------------------------- */\n  //   // Step 2: store file on blockchain\n  //   //  await contract.methods\n  //   //  .set(picHash)\n  //   //  .send({\n  //   //    from: account,\n  //   //  })\n  //   //  .then((res) => setPichash(picHash));\n  // };\n  //   const renderIPFSImage = () => {\n  //     return `https://ipfs.infura.io/ipfs/${picHash}`;\n  // };\n  /* -------------------------------------------------------------------------- */\n\n  /* -------------------------------------------------------------------------- */\n  const captureFileAndUploadToIPFS = async (e) => {\n    const file = e.target.files[0];\n    try {\n      const added = await client.add(file, {\n        progress: (prog) => console.log(`received: ${prog}`),\n      });\n      const url = `https://ipfs.infura.io/ipfs/${added.path}`;\n      setFileUrl(url);\n      console.log(url);\n      return url;\n    } catch (error) {\n      console.log(\"Error uploading file: \", error);\n    }\n  };\n\n  const uploadToIPFS = async (data) => {\n    try {\n      const added = await client.add(data);\n      const url = `https://ipfs.infura.io/ipfs/${added.path}`;\n      return url;\n    } catch (error) {\n      console.log(\"Error uploading file: \", error);\n    }\n  };\n  /* -------------------------------------------------------------------------- */\n  return {\n    // web3Modal_address_abi,\n    // ethers_address_abi,\n    captureFile,\n    // captureJSON,\n    // ipfsSubmit,\n    uploadToIPFS,\n    captureFileAndUploadToIPFS,\n  };\n};\n\nexport default useIPFS;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FriendList_container__vKx7K\",\"titleContainer\":\"FriendList_titleContainer__2E3GC\",\"backArrowContainer\":\"FriendList_backArrowContainer__1nYJ8\",\"backArrow\":\"FriendList_backArrow__3XgwA\",\"friendListContainer\":\"FriendList_friendListContainer__1yFN_\",\"friendListContainerCenter\":\"FriendList_friendListContainerCenter___zjcu\",\"friendContainer\":\"FriendList_friendContainer__3Ur8i\",\"friend\":\"FriendList_friend__nrvZo\",\"nameEmailContainer\":\"FriendList_nameEmailContainer__2E7Wb\",\"friendProfilePic\":\"FriendList_friendProfilePic__28FaH\",\"email\":\"FriendList_email__CTsc1\",\"buttons\":\"FriendList_buttons__jAimJ\",\"startChat\":\"FriendList_startChat__3pIE0\",\"delete\":\"FriendList_delete__27LEX\",\"chatStarted\":\"FriendList_chatStarted__1vfl3\",\"online\":\"FriendList_online__3JaT3\",\"offline\":\"FriendList_offline__1t0df\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AddFriends_container__eTCzS\",\"seachContainer\":\"AddFriends_seachContainer__5ShPr\",\"backArrowContainer\":\"AddFriends_backArrowContainer__3wsib\",\"backArrow\":\"AddFriends_backArrow__3VbkO\",\"cardsListContainer\":\"AddFriends_cardsListContainer__2nieu\",\"cardsListContainerCenter\":\"AddFriends_cardsListContainerCenter__3iOEM\",\"userProfilePic\":\"AddFriends_userProfilePic__WwPXf\",\"userCard\":\"AddFriends_userCard__mOsLI\",\"buttonContainer\":\"AddFriends_buttonContainer__qk47S\",\"addFriendButton\":\"AddFriends_addFriendButton__ZrVej\",\"addFriendButton0\":\"AddFriends_addFriendButton0__33wO8\",\"addedFriendButton\":\"AddFriends_addedFriendButton__1KNCG\",\"nameEmailContainer\":\"AddFriends_nameEmailContainer__1KXh_\",\"name\":\"AddFriends_name__19qhw\",\"email\":\"AddFriends_email__2UoWg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ChatBox_container__pTC5i\",\"noRoomMessageContainer\":\"ChatBox_noRoomMessageContainer__2WAxS\",\"friendNameContainer\":\"ChatBox_friendNameContainer__1XGby\",\"online\":\"ChatBox_online__2Nu1w\",\"offline\":\"ChatBox_offline__-iREf\",\"messageContainer\":\"ChatBox_messageContainer__2vT-v\",\"messageList\":\"ChatBox_messageList__Ywdsx\",\"msg\":\"ChatBox_msg__3335k\",\"red\":\"ChatBox_red__3l6_8\",\"blue\":\"ChatBox_blue__2Iqrc\",\"inputBtnContainer\":\"ChatBox_inputBtnContainer__1Daxr\",\"backContainer\":\"ChatBox_backContainer__Ve-jz\",\"backArrow\":\"ChatBox_backArrow__2ttt9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"RegisterForm_container__1uWbO\",\"LoadingSpinner\":\"RegisterForm_LoadingSpinner__249z9\",\"formContainer\":\"RegisterForm_formContainer__2xNGS\",\"xContainer\":\"RegisterForm_xContainer__2fghG\",\"x\":\"RegisterForm_x__1MyAL\",\"titleContainer\":\"RegisterForm_titleContainer__3OxuQ\",\"horizontalLine\":\"RegisterForm_horizontalLine__3sW64\",\"form\":\"RegisterForm_form__WM-50\",\"inputItem\":\"RegisterForm_inputItem__3Vbbo\",\"sameLineInputContainer\":\"RegisterForm_sameLineInputContainer__3kKEQ\",\"sameLineInput\":\"RegisterForm_sameLineInput__AzQRf\",\"btnContainer\":\"RegisterForm_btnContainer__1QCgH\",\"button\":\"RegisterForm_button__2rheP\",\"signUp\":\"RegisterForm_signUp__3HsOl\",\"login\":\"RegisterForm_login__RESuF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TestDropDown_container__suja-\",\"profilePicContainer\":\"TestDropDown_profilePicContainer__2_i4X\",\"profilePic\":\"TestDropDown_profilePic__2PuEz\",\"profileDropdownContainer1\":\"TestDropDown_profileDropdownContainer1__2vpNs\",\"profileDropdownContainer\":\"TestDropDown_profileDropdownContainer__1E6EP\",\"profileDropdownList\":\"TestDropDown_profileDropdownList__2fk4c\",\"option\":\"TestDropDown_option__1VpbJ\",\"deactivated\":\"TestDropDown_deactivated__1JAVo\",\"menuMoveUp\":\"TestDropDown_menuMoveUp__1ao9A\",\"active\":\"TestDropDown_active__1XUPQ\",\"menuMoveDown\":\"TestDropDown_menuMoveDown__21tbW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"EditDeleteComment_container__3rNg_\",\"LoadingSpinner\":\"EditDeleteComment_LoadingSpinner__26Bhc\",\"createPostContainer\":\"EditDeleteComment_createPostContainer__9pYKg\",\"titleContainer\":\"EditDeleteComment_titleContainer__1INF4\",\"x_svg\":\"EditDeleteComment_x_svg__2XkPU\",\"name_and_pic_Container\":\"EditDeleteComment_name_and_pic_Container__1H5Xk\",\"contentContainer\":\"EditDeleteComment_contentContainer__3ETZV\",\"content\":\"EditDeleteComment_content__2fgIU\",\"inputContainer\":\"EditDeleteComment_inputContainer__1wUj7\",\"input\":\"EditDeleteComment_input__O-CrU\",\"postBtnContainer\":\"EditDeleteComment_postBtnContainer__3TlMI\",\"btn\":\"EditDeleteComment_btn__ZI9Vh\",\"editBtn\":\"EditDeleteComment_editBtn__2jiqu\",\"deleteBtn\":\"EditDeleteComment_deleteBtn__1de5M\",\"postBtn\":\"EditDeleteComment_postBtn__LI8_m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"EditDeletePost_container__26q3y\",\"LoadingSpinner\":\"EditDeletePost_LoadingSpinner__1Oj9Z\",\"createPostContainer\":\"EditDeletePost_createPostContainer__1fEEU\",\"titleContainer\":\"EditDeletePost_titleContainer__3RyG3\",\"x_svg\":\"EditDeletePost_x_svg__1lex9\",\"name_and_pic_Container\":\"EditDeletePost_name_and_pic_Container__17k1q\",\"contentContainer\":\"EditDeletePost_contentContainer__KDilF\",\"content\":\"EditDeletePost_content__npNm7\",\"inputContainer\":\"EditDeletePost_inputContainer__2w7Hx\",\"input\":\"EditDeletePost_input__10uYK\",\"postBtnContainer\":\"EditDeletePost_postBtnContainer__2cEMP\",\"btn\":\"EditDeletePost_btn__2ibvI\",\"editBtn\":\"EditDeletePost_editBtn__t53Lf\",\"deleteBtn\":\"EditDeletePost_deleteBtn__2QD70\",\"postBtn\":\"EditDeletePost_postBtn__2YQlI\"};","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nexport interface NumberState {\n  value: number;\n}\nconst initialState: NumberState = {\n  value: 0,\n};\n\nexport const addOneSlice = createSlice({\n  name: \"reservations\",\n  initialState,\n  reducers: {\n    addOne: (state, action: PayloadAction<number>) => {\n      state.value = state.value + action.payload;\n    },\n  },\n});\n\nexport const { addOne } = addOneSlice.actions;\nexport default addOneSlice.reducer;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nexport interface NumberState {\n  value: string;\n}\nconst initialState: NumberState = {\n  value: \"\",\n};\n\nexport const currentRoomSlice = createSlice({\n  name: \"currentroom\",\n  initialState,\n  reducers: {\n    setRoom: (state, action: PayloadAction<string>) => {\n      state.value = action.payload;\n    },\n  },\n});\n\nexport const { setRoom } = currentRoomSlice.actions;\nexport default currentRoomSlice.reducer;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nexport interface NumberState {\n  value: string[];\n}\nconst initialState: NumberState = {\n  value: [],\n};\n\nexport const eUserAddressesSlice = createSlice({\n  name: \"currentUserAddresses\",\n  initialState,\n  reducers: {\n    setUserAddresses: (state, action: PayloadAction<string[]>) => {\n      state.value = action.payload;\n    },\n  },\n});\n\nexport const { setUserAddresses } = eUserAddressesSlice.actions;\nexport default eUserAddressesSlice.reducer;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nexport interface UserState {\n  id?: any;\n  name?: any;\n  email?: any;\n  friends?: any;\n  conversations?: any;\n  posts?: any;\n}\nconst initialState: UserState = {};\n\nexport const currentUserSlice = createSlice({\n  name: \"currentUser\",\n  initialState,\n  reducers: {\n    setCurrentUser: (state, { payload }: PayloadAction<UserState>) => {\n      Object.assign(state, payload);\n    },\n  },\n});\n\nexport const { setCurrentUser } = currentUserSlice.actions;\nexport default currentUserSlice.reducer;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nexport interface UserState {\n  value: [];\n}\nconst initialState: UserState = {\n  value: [],\n};\n\nexport const previousMessagesSlice = createSlice({\n  name: \"previousMessages\",\n  initialState,\n  reducers: {\n    setPreviousMessages: (state, action: PayloadAction<[]>) => {\n      state.value = action.payload;\n    },\n  },\n});\n\nexport const { setPreviousMessages } = previousMessagesSlice.actions;\nexport default previousMessagesSlice.reducer;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nexport interface onlineUserState {\n  value: any;\n  // posts?: any;\n}\nconst initialState: onlineUserState = {\n  value: [],\n};\n\nexport const onlineUsersSlice = createSlice({\n  name: \"onlineUsers\",\n  initialState,\n  reducers: {\n    setOnlineUsers: (state, { payload }: PayloadAction<onlineUserState>) => {\n      // Object.assign(state, payload);\n      state.value = payload;\n    },\n  },\n});\n\nexport const { setOnlineUsers } = onlineUsersSlice.actions;\nexport default onlineUsersSlice.reducer;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nexport interface SocketState {\n  value: any;\n}\nconst initialState: SocketState = {\n  value: null,\n};\n\nexport const socketSlice = createSlice({\n  name: \"currentUser\",\n  initialState,\n  reducers: {\n    setSocket: (state, { payload }: PayloadAction<SocketState>) => {\n      // Object.assign(state, payload);\n      state.value = payload;\n    },\n  },\n});\n\nexport const { setSocket } = socketSlice.actions;\nexport default socketSlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport { applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\n// import { addOneReducer } from \"./reducers/addOneReducer\";\nimport addOneReducer from \"./features/addOneSlice\";\nimport currentRoomReducer from \"./features/roomSlice\";\nimport eUserAddressesReducer from \"./features/eUserAddresses\";\nimport currentUserReducer from \"./features/currentUserSlice\";\nimport previousMessagesReducer from \"./features/previousMessagesSlice\";\nimport onlineUsersReducer from \"./features/onlineUsersSlice\";\nimport socketSliceReducer from \"./features/socketSlice\";\nexport const store = configureStore({\n  reducer: {\n    currentNumber: addOneReducer,\n    currentRoom: currentRoomReducer,\n    userAddresses: eUserAddressesReducer,\n    currentUser: currentUserReducer,\n    previousMessages: previousMessagesReducer,\n    onlineUsers: onlineUsersReducer,\n    socket: socketSliceReducer,\n  },\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import { createBrowserHistory } from \"history\";\n\nexport default createBrowserHistory();\n","import { gql } from \"@apollo/client\";\n\nexport default gql`\n  {\n    user2 {\n      id\n      profilePic\n      email\n      name\n      age\n      friends {\n        id\n        email\n        profilePic\n        name\n        age\n        posts {\n          id\n          userId {\n            id\n            profilePic\n            name\n            email\n          }\n          post\n          likedBy {\n            id\n          }\n          comments {\n            comment\n            likedBy {\n              id\n            }\n            userId {\n              id\n              name\n              profilePic\n            }\n            postId\n            id\n          }\n          time\n        }\n      }\n      conversations {\n        id\n        email\n        name\n        profilePic\n      }\n      posts {\n        id\n        userId {\n          id\n          name\n          email\n          profilePic\n        }\n        post\n        likedBy {\n          id\n        }\n        comments {\n          id\n          likedBy {\n            id\n          }\n          comment\n          postId\n          userId {\n            id\n            profilePic\n            name\n          }\n        }\n        time\n      }\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport default gql`\n  mutation Login($email: String, $password: String) {\n    login(email: $email, password: $password) {\n      email\n      id\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport default gql`\n  mutation Signup($name: String, $email: String, $password: String) {\n    signup(name: $name, email: $email, password: $password) {\n      id\n      email\n    }\n  }\n`;\n","import styles from \"./LoadingSpinner.module.css\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { gsap } from \"gsap\";\n\nconst LoadingSpinner = () => {\n  let spinner = useRef();\n  const [fixAnimation, setFixAnimation] = useState(false);\n\n  useEffect(() => {\n    setFixAnimation(true);\n    gsap.from(spinner.current, { scale: 0, duration: 0.4 });\n    // gsap.from(spinner.current, { opacity: 0, scale: 0, duration: 1 });\n    setFixAnimation(false);\n  }, []);\n\n  return (\n    <div className={styles.container} ref={spinner}>\n      <div\n        className={styles.loader}\n        // className={`${styles.loader} ${!fixAnimation ? styles.hide : null}`}\n      ></div>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import styles from \"./RegisterForm.module.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { useMutation, useQuery } from \"@apollo/client\";\n\nimport signUpMutation from \"../../../GQL/mutations/Signup\";\nimport CurrentUserQuery from \"../../../GQL/queries/CurrentUser\";\nimport history from \"../../../utils/history\";\nimport LoadingSpinner from \"../../LoadingSpinner/LoadingSpinner\";\n\nconst RegisterForm = ({ setShowModal, showModal }) => {\n  const [errors, setErrors] = useState([]);\n  const [signup] = useMutation(signUpMutation);\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const firstAndLastNameCombined = `${firstName} ${lastName}`;\n    setName(firstAndLastNameCombined);\n    console.log(name);\n  }, [firstName, lastName]);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    signup({\n      variables: { name: name, email: email, password: password },\n      refetchQueries: [{ query: CurrentUserQuery }],\n      awaitRefetchQueries: true,\n    })\n      .then((e) => [e ? history.push(\"/home\") : null, setLoading(false)])\n      .catch((err) => {\n        const errors = err.graphQLErrors?.map((error) => error.message);\n        setErrors(errors);\n        console.log(errors);\n      });\n  };\n\n  return (\n    <div className={styles.formContainer}>\n      <div\n        onClick={() => setShowModal(!showModal)}\n        className={styles.xContainer}\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"24\"\n          height=\"24\"\n          className={styles.x}\n          viewBox=\"0 0 24 24\"\n        >\n          <path d=\"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z\" />\n        </svg>\n      </div>\n      <div className={styles.titleContainer}>\n        <h1>Sign Up</h1>\n\n        <p>It's quick and easy.</p>\n        <hr className={styles.horizontalLine} />\n      </div>\n\n      <form action=\"\" className={styles.form} onSubmit={(e) => onSubmit(e)}>\n        {loading ? (\n          <div className={styles.LoadingSpinner}>\n            <LoadingSpinner />\n          </div>\n        ) : null}\n        <div className={styles.sameLineInputContainer}>\n          <input\n            type=\"text\"\n            placeholder=\"First Name\"\n            value={firstName}\n            className={styles.sameLineInput}\n            onChange={(e) => setFirstName(e.target.value)}\n          />\n\n          <input\n            type=\"text\"\n            placeholder=\"Last Name\"\n            value={lastName}\n            className={styles.sameLineInput}\n            onChange={(e) => setLastName(e.target.value)}\n          />\n        </div>\n\n        <input\n          type=\"text\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          className={styles.inputItem}\n        />\n\n        <input\n          placeholder=\"New Password\"\n          value={password}\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          className={styles.inputItem}\n        />\n        <div className={styles.btnContainer}>\n          <button className={`${styles.button} ${styles.signUp}`}>\n            Sign Up\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default RegisterForm;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport RegisterForm from \"../../RegisterForm/RegisterForm\";\nimport styles from \"./modal.module.css\";\nimport { gsap } from \"gsap\";\n// import history from \"../../history\";\n\nexport const Modal = ({ content, showModal, Open, setShowModal }) => {\n  let modal = useRef();\n  const [fixAnimation, setFixAnimation] = useState(false);\n  // let loginFormContainer = useRef();\n\n  useEffect(() => {\n    setFixAnimation(true);\n    if (showModal) {\n      gsap.from(modal.current, { y: 140, opacity: 0, duration: 0.5 });\n    } else {\n      setFixAnimation(false);\n    }\n  }, [showModal]);\n  if (showModal) {\n    return ReactDOM.createPortal(\n      <div // background\n        // onClick={() => setShowModal(!showModal)}\n        className={styles.modal_background}\n      >\n        <div // Modal\n          onClick={(e) => e.stopPropagation()}\n          className={`${styles.modal} ${!fixAnimation ? styles.hide : null}`}\n          ref={modal}\n        >\n          <RegisterForm setShowModal={setShowModal} showModal={showModal} />\n        </div>\n      </div>,\n      document.querySelector(\"#modal\")\n    );\n  } else return <></>;\n};\n","import styles from \"./LogInForm.module.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { useMutation } from \"@apollo/client\";\nimport loginMutation from \"../../../GQL/mutations/Login\";\nimport CurrentUserQuery from \"../../../GQL/queries/CurrentUser\";\nimport history from \"../../../utils/history\";\nimport { Modal } from \"./modal/modal\";\nimport LoadingSpinner from \"../../LoadingSpinner/LoadingSpinner\";\n\nconst LogInForm = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n  const [login] = useMutation(loginMutation);\n  const [showModal, setShowModal] = useState(false);\n  const [loading, setLoading] = useState(false);\n  /* -------------------------------------------------------------------------- */\n\n  /* -------------------------------------------------------------------------- */\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    login({\n      variables: { email: email, password: password },\n      refetchQueries: [{ query: CurrentUserQuery }],\n      awaitRefetchQueries: true,\n    })\n      .then((e) => [e ? history.push(\"/home\") : null, setLoading(false)])\n      .then((res) => [setEmail(\"\"), setPassword(\"\")])\n      .catch((err) => {\n        const errors = err.graphQLErrors?.map((error) => error.message);\n        setErrors(errors);\n        console.log(errors);\n      });\n  };\n\n  return (\n    <div className={styles.container}>\n      <Modal showModal={showModal} setShowModal={setShowModal} key={\"2\"} />\n      <div className={styles.formContainer}>\n        {loading ? (\n          <div className={styles.LoadingSpinner}>\n            <LoadingSpinner />\n          </div>\n        ) : null}\n\n        <form action=\"\" className={styles.form} onSubmit={onSubmit}>\n          <input\n            placeholder=\"Email\"\n            type=\"text\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n\n          <input\n            placeholder=\"Password\"\n            type=\"text\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n          <div className={styles.btnContainer}>\n            <button className={`${styles.button} ${styles.login}`}>\n              Log In\n            </button>\n          </div>\n\n          <hr className={styles.horizontalLine} />\n        </form>\n\n        <div className={styles.btnContainer}>\n          <button\n            onClick={() => setShowModal(!showModal)}\n            className={`${styles.button} ${styles.createNewAccount}`}\n          >\n            Create new account\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LogInForm;\n","import styles from \"./LoginPage.module.css\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport LogInForm from \"../../components/Landing/LogInForm/LogInForm\";\nimport { gsap } from \"gsap\";\n\nconst LoginPage = () => {\n  let textContainer = useRef();\n  let loginFormContainer = useRef();\n\n  useEffect(() => {\n    gsap.from(textContainer.current, { x: -200, opacity: 0, duration: 0.7 });\n    gsap.from(loginFormContainer.current, {\n      y: 200,\n      opacity: 0,\n      duration: 0.7,\n    });\n  });\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.textContainer} ref={textContainer}>\n        <h1 className={styles.title}>facebook</h1>\n        <p className={styles.paragraph}>\n          Connect with friends and the world <br /> around you on Facebook.\n        </p>\n      </div>\n      <div className={styles.LogInForm} ref={loginFormContainer}>\n        <LogInForm />\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n","import styles from \"./LoadingPage.module.css\";\nimport React, {\n  useState,\n  useEffect,\n  useRef,\n  useContext,\n  FC,\n  SetStateAction,\n  Dispatch,\n} from \"react\";\n\nconst LoadingPage = () => {\n  return (\n    <div className={styles.container}>\n      <div className={styles.titleContainer}>\n        <h1 className={styles.title}>Loading</h1>\n      </div>\n\n      <div className={styles.loader}></div>\n    </div>\n  );\n};\n\nexport default LoadingPage;\n","import React, { useEffect } from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport getCurrentUser from \"../GQL/queries/CurrentUser\";\nimport LoginPage from \"../_pages/LoginPage/LoginPage\";\n// import history from \"./history\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport LoadingPage from \"../_pages/LoadingPage/LoadingPage\";\n\nconst RequireAuth = (WrappedComponent) => {\n  const CheckAuth = (props) => {\n    const { pathname } = useLocation();\n    const { loading, error, data } = useQuery(getCurrentUser);\n\n    useEffect(() => {\n      if (!loading && !data.user2) {\n        props.history.push(\"/login\");\n      }\n    }, [data]);\n\n    if (data?.user2) {\n      // props.history.push(pathname.p);\n      return <WrappedComponent {...props} />;\n    } else {\n      // props.history.push(\"/login\");\n      return <LoadingPage />;\n    }\n  };\n  return CheckAuth;\n};\n\nexport default RequireAuth;\n","import styles from \"./SideBar.module.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nconst SideBar = () => {\n  const [open, setOpen] = useState(false);\n  const { pathname } = useLocation();\n\n  const routesToShowUpIn = [\"/home\", \"/chat\", \"/friends\", \"/profile\"];\n  const includedPath = routesToShowUpIn.includes(pathname);\n\n  if (includedPath) {\n    return (\n      <div className={styles.container}>\n        <ul className={styles.optionList}>\n          <li>\n            <Link to=\"/home\" className={styles.option}>\n              <img\n                src=\"https://www.freepnglogos.com/uploads/logo-home-png/chimney-home-icon-transparent-1.png\"\n                alt=\"\"\n                className={styles.image}\n              />\n              Home\n            </Link>\n          </li>\n          <li>\n            <Link to=\"/chat\" className={styles.option}>\n              <img\n                src=\"https://image.flaticon.com/icons/png/512/61/61592.png\"\n                alt=\"\"\n                className={styles.image}\n              />\n              Chat\n            </Link>\n          </li>\n          <li>\n            <Link to=\"/friends\" className={styles.option}>\n              <img\n                style={{ width: \"45%\" }}\n                src=\"https://icon-library.com/images/friends-icon-transparent/friends-icon-transparent-1.jpg\"\n                alt=\"\"\n                className={styles.image}\n              />\n              Friends\n            </Link>\n          </li>\n        </ul>\n      </div>\n    );\n  } else {\n    return null;\n  }\n};\n\nexport default SideBar;\n","import styles from \"./SideNav.module.css\";\nimport React, { useState, useEffect } from \"react\";\nimport SideBar from \"../SideBar/SideBar\";\n\nconst SideNav = () => {\n  const [open, setOpen] = useState(false);\n  return (\n    <div className={styles.container}>\n      <div\n        className={styles.hamburger}\n        onClick={() => [setOpen(!open), console.log(\"side nav\", open)]}\n      >\n        <span className={styles.line}></span>\n        <span className={styles.line}></span>\n        <span className={styles.line}></span>\n      </div>\n      <ul className={`${styles.optionList} ${open ? styles.open : null}`}>\n        <SideBar />\n      </ul>\n    </div>\n  );\n};\n\nexport default SideNav;\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\nimport { RootState, AppDispatch } from \"./store\";\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { gql } from \"@apollo/client\";\n\nexport default gql`\n  mutation {\n    logout {\n      id\n      email\n    }\n  }\n`;\n","import styles from \"./ProfileDropdownInitiator.module.css\";\nimport React, { useState, useEffect } from \"react\";\nimport profile from \"./profile.png\";\n\nimport { useAppSelector, useAppDispatch } from \"../../../redux/hooks\";\n\nconst ProfileDropdownInitiator = () => {\n  const currentUser = useAppSelector((state) => state.currentUser);\n  /* -------------------------------------------------------------------------- */\n  return (\n    <div className={styles.profilePicContainer}>\n      {currentUser.profilePic ? (\n        <img\n          src={currentUser.profilePic}\n          alt=\"\"\n          className={styles.profilePic}\n        />\n      ) : (\n        <img\n          src=\"https://images.unsplash.com/photo-1511367461989-f85a21fda167?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Nnx8cHJvZmlsZXxlbnwwfHwwfHw%3D&w=1000&q=80\"\n          alt=\"\"\n          className={styles.profilePic}\n        />\n      )}\n      {/* <img src={profile} alt=\"\" className={styles.profilePic} /> */}\n    </div>\n  );\n};\n\nexport default ProfileDropdownInitiator;\n","export default __webpack_public_path__ + \"static/media/profile.41e90b3c.png\";","export default __webpack_public_path__ + \"static/media/profile.41e90b3c.png\";","import styles from \"./TestDropDown.module.css\";\nimport React, {\n  useState,\n  useEffect,\n  useRef,\n  useContext,\n  FC,\n  SetStateAction,\n  Dispatch,\n} from \"react\";\nimport { useAppSelector, useAppDispatch } from \"../../../redux/hooks\";\nimport { setCurrentUser } from \"../../../redux/features/currentUserSlice\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport currentUserQuery from \"../../../GQL/queries/CurrentUser\";\nimport mutation from \"../../../GQL/mutations/Logout\";\nimport profile from \"./profile.png\";\n\nconst TestDropDown = ({ socketRef, socketIdFromNav }) => {\n  let { loading, error, data, refetch } = useQuery(currentUserQuery);\n  let [logout] = useMutation(mutation);\n  const currentUser = useAppSelector((state) => state.currentUser);\n  const { pathname } = useLocation();\n  const [open, setOpen] = useState(false);\n  const [close, setClose] = useState(false);\n  const [currentPath, setCurrentPath] = useState(pathname);\n  const dispatch = useAppDispatch();\n  // const socketRef = useRef();\n\n  // useEffect(() => {\n  //   if (open) {\n  //   }\n  // }, [pathname]);\n\n  useEffect(() => {\n    document.addEventListener(\"click\", handleClickOutside, false);\n    return () => {\n      document.removeEventListener(\"click\", handleClickOutside, false);\n    };\n  }, []);\n\n  const wrapperRef = useRef(null);\n\n  const onLogoutCLick = () => {\n    // socketRef.current.emit(\"logout\", { socketId: socketIdFromNav });\n    // socketRef.current.disconnect(true);\n\n    logout({\n      refetchQueries: [{ query: currentUserQuery }],\n      awaitRefetchQueries: true,\n    })\n      .then(socketRef.current.emit(\"refetchOnlineUsers\", {}))\n      .then(socketRef.current.disconnect(true))\n      .then(dispatch(setCurrentUser({})))\n\n      .catch((err) => console.log(err));\n  };\n  const handleClickOutside = (event) => {\n    if (wrapperRef.current && !wrapperRef.current.contains(event.target)) {\n      setOpen(false);\n      // setClose(true);\n    }\n  };\n  // console.log(socketRef);\n\n  return (\n    <div\n      className={styles.container}\n      ref={wrapperRef}\n      onMouseLeave={() => [setOpen(false), setClose(true)]}\n    >\n      <div className={styles.profilePicContainer}>\n        <img\n          src={profile}\n          alt=\"\"\n          className={styles.profilePic}\n          onMouseOver={() => setOpen(true)}\n          // onMouseLeave={() => setOpen(false)}\n        />\n      </div>\n      {/* -------------------------------------------------------------------------- */}\n\n      <div\n        // onMouseLeave={() => setOpen(false)}\n        className={`${styles.profileDropdownContainer} ${\n          open\n            ? // && currentPath === pathname\n              styles.active\n            : close\n            ? styles.deactivated\n            : // && styles.active\n              null\n        }  `}\n      >\n        <div className={`${styles.profileDropdownContainer1}`}>\n          <ul\n            className={`${styles.profileDropdownList} ${\n              open ? styles.active : null\n            }`}\n          >\n            <li onClick={() => [setOpen(false), setClose(true)]}>\n              <Link\n                to=\"/profile\"\n                className={`${styles.option} ${open ? styles.active : null}`}\n              >\n                Profile\n              </Link>\n            </li>\n            <li\n              onClick={() => [onLogoutCLick(), setOpen(false), setClose(true)]}\n            >\n              <Link\n                to=\"/login\"\n                className={`${styles.option} ${open ? styles.active : null}`}\n              >\n                Log Out\n              </Link>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TestDropDown;\n","import styles from \"./NavBar.module.css\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport SideNav from \"../SideNav/SideNav\";\n\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport { setCurrentUser } from \"../../../redux/features/currentUserSlice\";\nimport { setOnlineUsers } from \"../../../redux/features/onlineUsersSlice\";\nimport currentUserQuery from \"../../../GQL/queries/CurrentUser\";\nimport { setSocket } from \"../../../redux/features/socketSlice\";\nimport { useAppSelector, useAppDispatch } from \"../../../redux/hooks\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport mutation from \"../../../GQL/mutations/Logout\";\nimport ProfileDropdownInitiator from \"../ProfileDropdownInitiator/ProfileDropdownInitiator\";\nimport TestDropDown from \"../TestDropDown/TestDropDown\";\nimport socketIOClient from \"socket.io-client\";\nconst SOCKET_SERVER_URL = `http://test.omarragab.com`;\n\nconst NavBar = () => {\n  const { pathname } = useLocation();\n  const dontShowUp = [\"/\", \"/login\"];\n  const navShow = !dontShowUp.includes(pathname);\n  let { loading, error, data, refetch } = useQuery(currentUserQuery);\n  const currentUser = useAppSelector((state) => state.currentUser);\n  const dispatch = useAppDispatch();\n  const socketRef = useRef();\n\n  /* -------------------------------------------------------------------------- */\n  useEffect(() => {\n    refetch();\n    if (data) {\n      console.log(data.user2, \"NavBar\");\n      dispatch(setCurrentUser(data.user2));\n    }\n  }, [data]);\n\n  useEffect(() => {\n    if (navShow && currentUser.id) {\n      console.log(\"working\");\n      socketRef.current = socketIOClient(SOCKET_SERVER_URL, {\n        transports: [\"websocket\"],\n        rejectUnauthorized: false,\n      });\n      socketRef.current.emit(\"login\", { userId: currentUser.id });\n      socketRef.current.on(\"onlineUsers\", (data) => {\n        const onlineUsers = Object.entries(data);\n        const onlineIds = Array.from(onlineUsers, (x) => x[1]);\n        console.log(onlineIds);\n        dispatch(setOnlineUsers(onlineIds));\n      });\n    }\n  }, [currentUser, data, navShow]);\n\n  /* -------------------------------------------------------------------------- */\n\n  return (\n    <div className={styles.container0}>\n      <div className={styles.container}>\n        <SideNav />\n        <ProfileDropdownInitiator />\n      </div>\n      <div className={styles.container69}>\n        <SideNav />\n        <TestDropDown socketRef={socketRef} />\n      </div>\n    </div>\n  );\n};\n\nexport default NavBar;\n","export default __webpack_public_path__ + \"static/media/profile.41e90b3c.png\";","import React, { useState, useEffect, useRef } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport styles from \"./modal.module.css\";\nimport { gsap } from \"gsap\";\n// import history from \"../../history\";\n\nexport const Modal = ({ content, showModal, Open, setShowModal, children }) => {\n  const [fixAnimation, setFixAnimation] = useState(false);\n  let modal = useRef();\n  useEffect(() => {\n    setFixAnimation(true);\n    if (showModal) {\n      gsap.from(modal.current, { y: 140, opacity: 0, duration: 0.5 });\n    } else {\n      setFixAnimation(false);\n    }\n  }, [showModal]);\n  if (showModal) {\n    return ReactDOM.createPortal(\n      <div // background\n        onClick={() => setShowModal(!showModal)}\n        className={styles.modal_background}\n      >\n        {/* -------------------------------------------------------------------------- */}\n        <div // Modal\n          onClick={(e) => e.stopPropagation()}\n          className={`${styles.modal} ${!fixAnimation ? styles.hide : null}`}\n          ref={modal}\n        >\n          {children}\n        </div>\n        {/* -------------------------------------------------------------------------- */}\n      </div>,\n      document.querySelector(\"#modal\")\n    );\n  } else return <></>;\n};\n","export default __webpack_public_path__ + \"static/media/x.0473316f.svg\";","import { gql } from \"@apollo/client\";\n\nconst mutation = gql`\n  mutation AddPost($userId: ID!, $post: String!) {\n    addPost(userId: $userId, post: $post) {\n      id\n      post\n    }\n  }\n`;\n\nexport default mutation;\n","import { gql } from \"@apollo/client\";\n\nconst mutation = gql`\n  mutation EditUser(\n    $id: ID!\n    $profilePic: String\n    $name: String\n    $age: Int\n    $email: String\n    $addFriend: ObjectId\n    $deleteFriend: ObjectId\n    $addConversation: ObjectId\n    $deleteConversation: ObjectId\n    $addPost: ObjectId\n    $deletePost: ObjectId\n    $addComment: ObjectId\n    $deleteComment: ObjectId\n  ) {\n    editUser(\n      id: $id\n      profilePic: $profilePic\n      email: $email\n      name: $name\n      age: $age\n      addFriend: $addFriend\n      deleteFriend: $deleteFriend\n      addConversation: $addConversation\n      deleteConversation: $deleteConversation\n      addPost: $addPost\n      deletePost: $deletePost\n      addComment: $addComment\n      deleteComment: $deleteComment\n    ) {\n      email\n    }\n  }\n`;\n\nexport default mutation;\n\n// mutation edit($id:ID!,$friend:String){\n//   editUser(id:$id,friend:$friend){\n//     name\n\n//   }\n// }\n\n// {\n//   \"id\":\"617845f83c9e137474788c93\",\n//   \"friend\":\"omar\"\n// }\n","import styles from \"./PostForm.module.css\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Modal } from \"./modal/modal\";\nimport { useAppSelector, useAppDispatch } from \"../../../redux/hooks\";\nimport X_SVG from \"./x.svg\";\nimport addPostMutation from \"../../../GQL/mutations/addPost\";\nimport editUserMutation from \"../../../GQL/mutations/editUser\";\nimport { useMutation, useQuery, useLazyQuery } from \"@apollo/client\";\nimport currentUserQuery from \"../../../GQL/queries/CurrentUser\";\nimport { gsap } from \"gsap\";\nimport LoadingSpinner from \"../../LoadingSpinner/LoadingSpinner\";\n\nconst PostForm = ({ showModal, setShowModal }) => {\n  const [postText, setPostText] = useState(\"\");\n  const [addPost] = useMutation(addPostMutation);\n  const [editUser] = useMutation(editUserMutation);\n  const currentUser = useAppSelector((state) => state.currentUser);\n  const [loading, setLoading] = useState(false);\n  // let modal = useRef();\n\n  // useEffect(() => {\n  //   gsap.from(modal.current, { y: 180, opacity: 0, duration: 0.5 });\n  //   // gsap.from(textContainer.current, { x: -140, opacity: 0, duration: 0.7 });\n  //   // gsap.from(loginFormContainer.current, { x: 0, opacity: 0, duration: 1.6 });\n  // }, [showModal]);\n  useEffect(() => {\n    if (currentUser.friends) {\n    }\n  }, [currentUser]);\n  const onSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    postText.length > 0\n      ? addPost({\n          variables: {\n            userId: currentUser.id,\n            post: postText,\n          },\n          refetchQueries: [{ query: currentUserQuery }],\n          awaitRefetchQueries: true,\n        })\n          .then((res) =>\n            editUser({\n              variables: {\n                id: currentUser.id,\n                addPost: res.data.addPost.id,\n              },\n              refetchQueries: [{ query: currentUserQuery }],\n              awaitRefetchQueries: true,\n            })\n              .then((res) => [setLoading(false), setShowModal(!showModal)])\n              .catch((err) => {\n                const errors = err.graphQLErrors?.map((error) => error.message);\n\n                console.log(errors);\n              })\n          )\n          .catch((err) => {\n            const errors = err.graphQLErrors?.map((error) => error.message);\n            console.log(errors);\n          })\n      : console.log(\"need to have post greater than zero length\");\n  };\n\n  return (\n    <Modal showModal={showModal} setShowModal={setShowModal}>\n      <div\n        className={styles.container}\n        // ref={modal}\n      >\n        <div className={styles.createPostContainer}>\n          <div className={styles.titleContainer}>\n            <h2>Create Post</h2>\n            <img\n              className={styles.x_svg}\n              src={X_SVG}\n              alt=\"exit\"\n              onClick={() => setShowModal(!showModal)}\n            />\n          </div>\n          <div className={styles.name_and_pic_Container}>\n            {/* <p> pic and name here and maybe drop down of friends</p> */}\n          </div>\n        </div>\n\n        <form action=\"\" onSubmit={(e) => onSubmit(e)}>\n          <div className={styles.contentContainer}>\n            {loading ? (\n              <div className={styles.LoadingSpinner}>\n                <LoadingSpinner />\n              </div>\n            ) : null}\n            <div className={styles.inputContainer}>\n              <textarea\n                onChange={(e) => setPostText(e.target.value)}\n                className={styles.input}\n                placeholder={`What's on your mind, ${currentUser.name}?`}\n                // maxlength=\"1\"\n              ></textarea>\n            </div>\n            <div className={styles.postBtnContainer}>\n              <button className={styles.postBtn}>Post</button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </Modal>\n  );\n};\n\nexport default PostForm;\n","import styles from \"./MakePost.module.css\";\nimport React, { useState, useEffect, FormEvent } from \"react\";\nimport profilePic from \"./profile.png\";\nimport PostForm from \"../../PostForm/PostForm\";\nimport { useAppSelector, useAppDispatch } from \"../../../../redux/hooks\";\n\nconst MakePost = () => {\n  const currentUser = useAppSelector((state) => state.currentUser);\n  const [showModal, setShowModal] = useState(false);\n\n  /* -------------------------------------------------------------------------- */\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.picInputContainer}>\n        <div className={styles.profilePicContainer}>\n          {currentUser.profilePic ? (\n            <img\n              src={currentUser.profilePic}\n              alt=\"\"\n              className={styles.profilePic}\n            />\n          ) : (\n            <img\n              src=\"https://images.unsplash.com/photo-1511367461989-f85a21fda167?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Nnx8cHJvZmlsZXxlbnwwfHwwfHw%3D&w=1000&q=80\"\n              alt=\"\"\n              className={styles.profilePic}\n            />\n          )}\n        </div>\n\n        <div className={styles.input} onClick={() => setShowModal(!showModal)}>\n          What's on your mind,&nbsp;\n          {currentUser.name ? currentUser.name : \"name here\"}?\n        </div>\n      </div>\n\n      <PostForm showModal={showModal} setShowModal={setShowModal} />\n    </div>\n  );\n};\n\nexport default MakePost;\n","import { gql } from \"@apollo/client\";\n\nconst mutation = gql`\n  mutation EditComment(\n    $id: ID!\n    $comment: String\n    $addLike: ObjectId\n    $deleteLike: ObjectId\n  ) {\n    editComment(\n      id: $id\n      comment: $comment\n      addLike: $addLike\n      deleteLike: $deleteLike\n    ) {\n      id\n      likedBy {\n        id\n      }\n    }\n  }\n`;\n\nexport default mutation;\n","import { gql } from \"@apollo/client\";\n\nconst mutation = gql`\n  mutation EditPost(\n    $id: ID!\n    $post: String\n    $addComment: ObjectId\n    $deleteComment: ObjectId\n    $addLike: ObjectId\n    $deleteLike: ObjectId\n  ) {\n    editPost(\n      id: $id\n      post: $post\n      addComment: $addComment\n      deleteComment: $deleteComment\n      addLike: $addLike\n      deleteLike: $deleteLike\n    ) {\n      id\n    }\n  }\n`;\n\nexport default mutation;\n","import { gql } from \"@apollo/client\";\n\nconst mutation = gql`\n  mutation AddComment($postId: ID!, $userId: ID!, $comment: String!) {\n    addComment(postId: $postId, userId: $userId, comment: $comment) {\n      id\n      comment\n      # likedBy\n      postId\n    }\n  }\n`;\n\nexport default mutation;\n","import styles from \"./MakeComment.module.css\";\nimport React, { useState, useEffect } from \"react\";\n\nimport { useAppSelector, useAppDispatch } from \"../../../../redux/hooks\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport editUserMutation from \"../../../../GQL/mutations/editUser\";\nimport editCommentMutation from \"../../../../GQL/mutations/editComment\";\nimport editPostMutation from \"../../../../GQL/mutations/editPost\";\nimport addCommentMutation from \"../../../../GQL/mutations/addComment\";\nimport currentUserQuery from \"../../../../GQL/queries/CurrentUser\";\n\nconst MakeComment = ({ commentOpen, setCommentOpen, postId }) => {\n  const [commentText, setCommentText] = useState(\"\");\n  // const [editUser] = useMutation(editUserMutation);\n  const [addComment] = useMutation(addCommentMutation);\n  const [editPost] = useMutation(editPostMutation);\n  const currentUser = useAppSelector((state) => state.currentUser);\n\n  useEffect(() => {\n    if (currentUser.friends) {\n      // console.log(postId);\n      // console.log(\"current User\", currentUser.friends);\n    }\n  }, [currentUser]);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    commentText.length > 0\n      ? addComment({\n          variables: {\n            postId: postId,\n            userId: currentUser.id,\n            comment: commentText,\n          },\n          refetchQueries: [{ query: currentUserQuery }],\n          awaitRefetchQueries: true,\n        })\n          .then((res) =>\n            editPost({\n              variables: {\n                id: postId,\n                addComment: res.data.addComment.id,\n              },\n              refetchQueries: [{ query: currentUserQuery }],\n              awaitRefetchQueries: true,\n            })\n              .catch((err) => {\n                const errors = err.graphQLErrors?.map((error) => error.message);\n\n                console.log(errors);\n              })\n              .then([setCommentOpen(!commentOpen), setCommentText(\"\")])\n          )\n          .catch((err) => {\n            const errors = err.graphQLErrors?.map((error) => error.message);\n            console.log(errors);\n          })\n      : console.log(\"need to have post greater than zero length\");\n  };\n\n  if (commentOpen) {\n    return (\n      <div className={styles.container}>\n        <form action=\"\" className={styles.formContainer} onSubmit={onSubmit}>\n          <div className={styles.profilePicContainer}>\n            {currentUser.profilePic ? (\n              <img\n                src={currentUser.profilePic}\n                alt=\"\"\n                className={styles.profilePic}\n              />\n            ) : (\n              <img\n                src=\"https://images.unsplash.com/photo-1511367461989-f85a21fda167?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Nnx8cHJvZmlsZXxlbnwwfHwwfHw%3D&w=1000&q=80\"\n                alt=\"\"\n                className={styles.profilePic}\n              />\n            )}\n          </div>\n          <textarea\n            onChange={(e) => setCommentText(e.target.value)}\n            className={styles.input}\n            placeholder={`What's on your mind, ${currentUser.name}?`}\n          ></textarea>\n          <button className={styles.btn}>Submit</button>\n        </form>\n      </div>\n    );\n  } else {\n    return null;\n  }\n};\n\nexport default MakeComment;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport styles from \"./modal.module.css\";\nimport { gsap } from \"gsap\";\n// import history from \"../../history\";\n\nexport const Modal = ({ content, showModal, Open, setShowModal, children }) => {\n  const [fixAnimation, setFixAnimation] = useState(false);\n  let modal = useRef();\n  useEffect(() => {\n    setFixAnimation(true);\n    if (showModal) {\n      gsap.from(modal.current, { y: 140, opacity: 0, scale: 0, duration: 0.3 });\n    } else {\n      setFixAnimation(false);\n    }\n  }, [showModal]);\n  if (showModal) {\n    return ReactDOM.createPortal(\n      <div // background\n        onClick={() => setShowModal(!showModal)}\n        className={styles.modal_background}\n      >\n        {/* -------------------------------------------------------------------------- */}\n        <div // Modal\n          onClick={(e) => e.stopPropagation()}\n          className={`${styles.modal} ${!fixAnimation ? styles.hide : null}`}\n          ref={modal}\n        >\n          {children}\n        </div>\n        {/* -------------------------------------------------------------------------- */}\n      </div>,\n      document.querySelector(\"#modal\")\n    );\n  } else return <></>;\n};\n","export default __webpack_public_path__ + \"static/media/x.0473316f.svg\";","import { gql } from \"@apollo/client\";\n\nconst mutation = gql`\n  mutation DeleteComment($id: ID!) {\n    deleteComment(id: $id) {\n      id\n    }\n  }\n`;\n\nexport default mutation;\n","import styles from \"./EditDeleteComment.module.css\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Modal } from \"./modal/modal\";\nimport { useAppSelector, useAppDispatch } from \"../../../../redux/hooks\";\nimport X_SVG from \"./x.svg\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport editCommentMutation from \"../../../../GQL/mutations/editComment\";\nimport deleteCommentMutation from \"../../../../GQL/mutations/deleteComment\";\nimport currentUserQuery from \"../../../../GQL/queries/CurrentUser\";\nimport editPostMutation from \"../../../../GQL/mutations/editPost\";\nimport LoadingSpinner from \"../../../LoadingSpinner/LoadingSpinner\";\n\nconst EditDeleteComment = ({ comment }) => {\n  const [editComment] = useMutation(editCommentMutation);\n  const [deleteComment] = useMutation(deleteCommentMutation);\n  const [editPost] = useMutation(editPostMutation);\n  // const { refetch } = useQuery(currentUserQuery);\n  const currentUser = useAppSelector((state) => state.currentUser);\n  const [showModal, setShowModal] = useState(false);\n  const [commentText, setCommentText] = useState(comment.comment);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    setCommentText(comment.comment);\n  }, [comment]);\n\n  const editCommentOnClick = () => {\n    setLoading(true);\n    editComment({\n      variables: {\n        id: comment.id,\n        comment: commentText,\n      },\n      refetchQueries: [{ query: currentUserQuery }],\n      awaitRefetchQueries: true,\n    })\n      .then((res) => [setShowModal(false), setLoading(false)])\n      .catch((err) => {\n        const errors = err.graphQLErrors?.map((error) => error.message);\n        console.log(errors);\n      });\n  };\n  const deleteCommentOnClick = (e) => {\n    setLoading(true);\n    console.log(\"start\");\n    /* ----------------------------- delete comment ----------------------------- */\n    deleteComment({\n      variables: {\n        id: comment.id,\n      },\n      refetchQueries: [{ query: currentUserQuery }],\n      awaitRefetchQueries: true,\n    })\n      /* -----------------------------Delete Comment from Post--------------------------------------------- */\n      .then((res) =>\n        editPost({\n          variables: {\n            id: comment.postId,\n            deleteComment: comment.id,\n          },\n          refetchQueries: [{ query: currentUserQuery }],\n          awaitRefetchQueries: true,\n        })\n          .then([setShowModal(false), setLoading(false)])\n          .catch((err) => {\n            const errors = err.graphQLErrors?.map((error) => error.message);\n            console.log(errors);\n          })\n      )\n      .catch((err) => {\n        const errors = err.graphQLErrors?.map((error) => error.message);\n        console.log(errors);\n      });\n  };\n\n  if (!showModal) return <div onClick={() => setShowModal(true)}>...</div>;\n\n  return (\n    <Modal showModal={showModal} setShowModal={setShowModal}>\n      <div\n        className={styles.container}\n        // ref={modal}\n      >\n        <div className={styles.createPostContainer}>\n          <div className={styles.titleContainer}>\n            <h2>Edit Comment</h2>\n            <img\n              className={styles.x_svg}\n              src={X_SVG}\n              alt=\"exit\"\n              onClick={() => setShowModal(!showModal)}\n            />\n          </div>\n        </div>\n\n        <div className={styles.contentContainer}>\n          {loading ? (\n            <div className={styles.LoadingSpinner}>\n              <LoadingSpinner />\n            </div>\n          ) : null}\n          <div className={styles.inputContainer}>\n            <textarea\n              // onChange={(e) => setPostText(e.target.value)}\n              className={styles.input}\n              value={commentText}\n              onChange={(e) => setCommentText(e.target.value)}\n              placeholder={`What's on your mind, ${currentUser.name}?`}\n              // maxlength=\"1\"\n            ></textarea>\n          </div>\n          <div className={styles.postBtnContainer}>\n            <button\n              className={`${styles.editBtn} ${styles.btn}`}\n              onClick={() => editCommentOnClick()}\n            >\n              Edit\n            </button>\n            <button\n              className={`${styles.deleteBtn} ${styles.btn}`}\n              onClick={(e) => deleteCommentOnClick()}\n            >\n              Delete\n            </button>\n          </div>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default EditDeleteComment;\n","import styles from \"./Comment.module.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { useAppSelector, useAppDispatch } from \"../../../../redux/hooks\";\nimport EditDeleteComment from \"../EditDeleteComment/EditDeleteComment\";\nimport editCommentMutation from \"../../../../GQL/mutations/editComment\";\nimport currentUserQuery from \"../../../../GQL/queries/CurrentUser\";\nimport { useMutation, useQuery } from \"@apollo/client\";\n\nconst Comment = ({ comment }) => {\n  const currentUser = useAppSelector((state) => state.currentUser);\n  const [editDeleteOpen, setEditDeleteOpen] = useState(false);\n  const [userCommentIds, setUserCommentIds] = useState([]);\n  const [editCommentText, setEditCommentText] = useState(comment.comment);\n  const [editComment] = useMutation(editCommentMutation);\n  const [likeCount, setLikeCount] = useState(comment.likedBy.length);\n  const [ableToLike, setAbleToLike] = useState(true);\n\n  const onLikeClick = () => {\n    const objectIntoArray = Object.assign([], comment.likedBy).flat();\n    const listOfLikeIds = comment.likedBy.map((likeId) => {\n      return likeId.id;\n    });\n    if (!ableToLike) return;\n    console.log(\"list of lieks\", listOfLikeIds);\n    if (listOfLikeIds.includes(currentUser.id)) {\n      const oneLess = objectIntoArray.slice(0, -1);\n      console.log(\"ONE LESS\", oneLess);\n      setAbleToLike(false);\n      editComment({\n        variables: {\n          id: comment.id,\n          deleteLike: currentUser.id,\n        },\n        optimisticResponse: {\n          editComment: {\n            id: comment.id,\n            __typename: \"CommentType\",\n            likedBy: oneLess,\n          },\n        },\n        refetchQueries: [{ query: currentUserQuery }],\n        awaitRefetchQueries: true,\n      }).then((res) => setAbleToLike(true));\n    } else {\n      const copyArray = objectIntoArray.slice();\n      copyArray.push({ id: \"+1\" });\n      const oneMore = copyArray;\n      console.log(\"ONE More\", oneMore);\n      setAbleToLike(false);\n      editComment({\n        variables: {\n          id: comment.id,\n          addLike: currentUser.id,\n        },\n        optimisticResponse: {\n          editComment: {\n            id: comment.id,\n            __typename: \"CommentType\",\n            likedBy: oneMore,\n            // Object.assign(comment.likedBy, payload)\n          },\n        },\n        refetchQueries: [{ query: currentUserQuery }],\n        awaitRefetchQueries: true,\n      }).then((res) => setAbleToLike(true));\n    }\n  };\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.profilePic_and_CommentContainer}>\n        <div className={styles.profilePicContainer}>\n          {comment.userId.profilePic ? (\n            <img\n              src={comment.userId.profilePic}\n              alt=\"\"\n              className={styles.profilePic}\n            />\n          ) : (\n            <img\n              src=\"https://static-cdn.jtvnw.net/jtv_user_pictures/81b9dc69-060b-4cef-977e-30e3cea96cbc-profile_image-300x300.png\"\n              alt=\"\"\n              className={styles.profilePic}\n            />\n          )}\n        </div>\n        <div className={styles.commentContainer}>\n          <h3 className={styles.name}>{comment.userId.name}</h3>\n          {/* <div> */}\n\n          {/* {editDeleteOpen ? (\n            <div className={styles.editDeleteContainer}>hi</div>\n          ) : (\n            <div className={styles.comment}>{comment.comment}</div>\n          )} */}\n          <div className={styles.comment}>{comment.comment}</div>\n\n          {/* -------------------------------------------------------------------------- */}\n          {currentUser.id === comment.userId.id ? (\n            <div\n              className={styles.editDots}\n              onClick={() => setEditDeleteOpen(!editDeleteOpen)}\n            >\n              <EditDeleteComment comment={comment} />\n            </div>\n          ) : null}\n          {/* -------------------------------------------------------------------------- */}\n          <div\n            className={styles.likeCountContainer}\n            onClick={() => onLikeClick()}\n          >\n            <img\n              className=\"j1lvzwm4\"\n              alt=\"\"\n              height=\"18\"\n              role=\"presentation\"\n              src=\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 16 16'%3e%3cdefs%3e%3clinearGradient id='a' x1='50%25' x2='50%25' y1='0%25' y2='100%25'%3e%3cstop offset='0%25' stop-color='%2318AFFF'/%3e%3cstop offset='100%25' stop-color='%230062DF'/%3e%3c/linearGradient%3e%3cfilter id='c' width='118.8%25' height='118.8%25' x='-9.4%25' y='-9.4%25' filterUnits='objectBoundingBox'%3e%3cfeGaussianBlur in='SourceAlpha' result='shadowBlurInner1' stdDeviation='1'/%3e%3cfeOffset dy='-1' in='shadowBlurInner1' result='shadowOffsetInner1'/%3e%3cfeComposite in='shadowOffsetInner1' in2='SourceAlpha' k2='-1' k3='1' operator='arithmetic' result='shadowInnerInner1'/%3e%3cfeColorMatrix in='shadowInnerInner1' values='0 0 0 0 0 0 0 0 0 0.299356041 0 0 0 0 0.681187726 0 0 0 0.3495684 0'/%3e%3c/filter%3e%3cpath id='b' d='M8 0a8 8 0 00-8 8 8 8 0 1016 0 8 8 0 00-8-8z'/%3e%3c/defs%3e%3cg fill='none'%3e%3cuse fill='url(%23a)' xlink:href='%23b'/%3e%3cuse fill='black' filter='url(%23c)' xlink:href='%23b'/%3e%3cpath fill='white' d='M12.162 7.338c.176.123.338.245.338.674 0 .43-.229.604-.474.725a.73.73 0 01.089.546c-.077.344-.392.611-.672.69.121.194.159.385.015.62-.185.295-.346.407-1.058.407H7.5c-.988 0-1.5-.546-1.5-1V7.665c0-1.23 1.467-2.275 1.467-3.13L7.361 3.47c-.005-.065.008-.224.058-.27.08-.079.301-.2.635-.2.218 0 .363.041.534.123.581.277.732.978.732 1.542 0 .271-.414 1.083-.47 1.364 0 0 .867-.192 1.879-.199 1.061-.006 1.749.19 1.749.842 0 .261-.219.523-.316.666zM3.6 7h.8a.6.6 0 01.6.6v3.8a.6.6 0 01-.6.6h-.8a.6.6 0 01-.6-.6V7.6a.6.6 0 01.6-.6z'/%3e%3c/g%3e%3c/svg%3e\"\n              width=\"18\"\n            />\n\n            <div className={styles.likeCount}>{comment.likedBy.length}</div>\n          </div>\n          <button className={styles.likeBtn}>Like</button>\n        </div>\n        {/* </div> */}\n      </div>\n    </div>\n  );\n};\n\nexport default Comment;\n","import { gql } from \"@apollo/client\";\n\nconst mutation = gql`\n  mutation DeletePost($id: ID!) {\n    removePost(id: $id) {\n      id\n    }\n  }\n`;\n\nexport default mutation;\n","import styles from \"./CommentList.module.css\";\nimport React, { useState, useEffect } from \"react\";\nimport Comment from \"../Comment/Comment\";\n\nconst CommentList = ({ commentList, commentListOpen, setCommentListOpen }) => {\n  const [listPagination, setListPagination] = useState(3);\n  useEffect(() => {\n    setListPagination(3);\n  }, [commentListOpen]);\n\n  const renderCommentsForPost = () => {\n    // const paginatedPostList = commentList.slice(0, listPagination);\n\n    const commentsForPost = commentList.map((comment, index) => {\n      // console.log(comment);\n      return (\n        <div key={index}>\n          <Comment comment={comment} />\n        </div>\n      );\n    });\n    const commentListEaliestFirst = commentsForPost.reverse();\n    const paginatedPostList = commentListEaliestFirst.slice(0, listPagination);\n\n    return paginatedPostList;\n  };\n\n  return (\n    <div className={`${styles.container}`}>\n      <div className={`${styles.commentListContainer}`}>\n        {commentListOpen ? renderCommentsForPost() : null}\n      </div>\n      {commentList.length > listPagination && commentListOpen ? (\n        <div\n          className={styles.paginationBtn}\n          onClick={() => setListPagination(listPagination + 3)}\n        >\n          View more comments\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default CommentList;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport styles from \"./modal.module.css\";\nimport { gsap } from \"gsap\";\n// import history from \"../../history\";\n\nexport const Modal = ({ content, showModal, Open, setShowModal, children }) => {\n  const [fixAnimation, setFixAnimation] = useState(false);\n  let modal = useRef();\n  useEffect(() => {\n    setFixAnimation(true);\n    if (showModal) {\n      gsap.from(modal.current, { y: 140, opacity: 0, scale: 0, duration: 0.3 });\n    } else {\n      setFixAnimation(false);\n    }\n  }, [showModal]);\n  if (showModal) {\n    return ReactDOM.createPortal(\n      <div // background\n        onClick={() => setShowModal(!showModal)}\n        className={styles.modal_background}\n      >\n        {/* -------------------------------------------------------------------------- */}\n        <div // Modal\n          onClick={(e) => e.stopPropagation()}\n          className={`${styles.modal} ${!fixAnimation ? styles.hide : null}`}\n          ref={modal}\n        >\n          {children}\n        </div>\n        {/* -------------------------------------------------------------------------- */}\n      </div>,\n      document.querySelector(\"#modal\")\n    );\n  } else return <></>;\n};\n","export default __webpack_public_path__ + \"static/media/x.0473316f.svg\";","import styles from \"./EditDeletePost.module.css\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Modal } from \"./modal/modal\";\nimport { useAppSelector, useAppDispatch } from \"../../../../redux/hooks\";\nimport X_SVG from \"./x.svg\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport currentUserQuery from \"../../../../GQL/queries/CurrentUser\";\nimport editPostMutation from \"../../../../GQL/mutations/editPost\";\nimport deletePostMutation from \"../../../../GQL/mutations/deletePost\";\nimport editUserMutation from \"../../../../GQL/mutations/editUser\";\nimport LoadingSpinner from \"../../../LoadingSpinner/LoadingSpinner\";\n\nconst EditDeletePost = ({ postId, postContent }) => {\n  const [editPost] = useMutation(editPostMutation);\n  const [deletePost] = useMutation(deletePostMutation);\n  const [editUser] = useMutation(editUserMutation);\n  const { refetch } = useQuery(currentUserQuery);\n  const currentUser = useAppSelector((state) => state.currentUser);\n  const [showModal, setShowModal] = useState(false);\n  const [postText, setPostText] = useState(postContent);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    setPostText(postContent);\n  }, [postContent]);\n\n  const editPostOnClick = () => {\n    setLoading(true);\n    editPost({\n      variables: {\n        id: postId,\n        post: postText,\n      },\n      refetchQueries: [{ query: currentUserQuery }],\n      awaitRefetchQueries: true,\n    })\n      // .then((res) => refetch())\n      .then((res) => [setShowModal(false), setLoading(false)])\n      .catch((err) => {\n        const errors = err.graphQLErrors?.map((error) => error.message);\n        console.log(errors);\n      });\n  };\n  const deletePostOnClick = (e) => {\n    setLoading(true);\n    console.log(\"start\");\n    /* ----------------------------- delete Post ----------------------------- */\n    deletePost({\n      variables: {\n        id: postId,\n      },\n      refetchQueries: [{ query: currentUserQuery }],\n      awaitRefetchQueries: true,\n    })\n      /* -----------------------------Delete post from User--------------------------------------------- */\n      .then((res) =>\n        editUser({\n          variables: {\n            id: currentUser.id,\n            deletePost: postId,\n          },\n          refetchQueries: [{ query: currentUserQuery }],\n          awaitRefetchQueries: true,\n        })\n          .then([setShowModal(false), setLoading(false)])\n          .catch((err) => {\n            const errors = err.graphQLErrors?.map((error) => error.message);\n            console.log(errors);\n          })\n      )\n      .catch((err) => {\n        const errors = err.graphQLErrors?.map((error) => error.message);\n        console.log(errors);\n      });\n  };\n\n  if (!showModal) return <div onClick={() => setShowModal(true)}>...</div>;\n\n  return (\n    <Modal showModal={showModal} setShowModal={setShowModal}>\n      <div\n        className={styles.container}\n        // ref={modal}\n      >\n        <div className={styles.createPostContainer}>\n          <div className={styles.titleContainer}>\n            <h2>Edit Post</h2>\n            <img\n              className={styles.x_svg}\n              src={X_SVG}\n              alt=\"exit\"\n              onClick={() => setShowModal(!showModal)}\n            />\n          </div>\n        </div>\n\n        <div className={styles.contentContainer}>\n          {loading ? (\n            <div className={styles.LoadingSpinner}>\n              <LoadingSpinner />\n            </div>\n          ) : null}\n          <div className={styles.inputContainer}>\n            <textarea\n              className={styles.input}\n              value={postText}\n              onChange={(e) => setPostText(e.target.value)}\n              placeholder={`What's on your mind, ${currentUser.name}?`}\n              // maxlength=\"1\"\n            ></textarea>\n          </div>\n          <div className={styles.postBtnContainer}>\n            <button\n              className={`${styles.editBtn} ${styles.btn}`}\n              onClick={() => editPostOnClick()}\n            >\n              Edit\n            </button>\n            <button\n              className={`${styles.deleteBtn} ${styles.btn}`}\n              onClick={(e) => deletePostOnClick()}\n            >\n              Delete\n            </button>\n          </div>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default EditDeletePost;\n","import styles from \"./Post.module.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { useMutation, useQuery, useLazyQuery } from \"@apollo/client\";\nimport { useAppSelector, useAppDispatch } from \"../../../../redux/hooks\";\nimport MakeComment from \"../MakeComment/MakeComment\";\nimport editUserMutation from \"../../../../GQL/mutations/editUser\";\nimport Comment from \"../Comment/Comment\";\nimport currentUserQuery from \"../../../../GQL/queries/CurrentUser\";\nimport deletePostMutation from \"../../../../GQL/mutations/deletePost\";\nimport editPostMutation from \"../../../../GQL/mutations/editPost\";\nimport CommentList from \"../CommentList/CommentList\";\nimport EditDeletePost from \"../EditDeletePost/EditDeletePost\";\n\nconst Post = ({\n  postId,\n  name,\n  profilePic,\n  likeCount,\n  likeList,\n  commentCount,\n  commentList,\n  postContent,\n  date,\n}) => {\n  const [commentOpen, setCommentOpen] = useState(false);\n  const [commentListOpen, setCommentListOpen] = useState(false);\n  const [editDeleteOpen, setEditDeleteOpen] = useState(false);\n  const [userPostIds, setUserPostIds] = useState([]);\n  const currentUser = useAppSelector((state) => state.currentUser);\n  const [deletePost] = useMutation(deletePostMutation);\n  const [editUser] = useMutation(editUserMutation);\n  const [editPost] = useMutation(editPostMutation);\n\n  useEffect(() => {\n    if (currentUser) {\n      const postIds = currentUser.posts.map((post) => {\n        return post.id;\n      });\n      setUserPostIds(postIds);\n    }\n  }, [currentUser]);\n\n  const onLikeClick = () => {\n    const listOfLikeIds = likeList.map((likeId) => {\n      return likeId.id;\n    });\n    console.log(listOfLikeIds);\n    if (listOfLikeIds.includes(currentUser.id)) {\n      editPost({\n        variables: {\n          id: postId,\n          deleteLike: currentUser.id,\n        },\n        refetchQueries: [{ query: currentUserQuery }],\n        awaitRefetchQueries: true,\n      });\n    } else {\n      editPost({\n        variables: {\n          id: postId,\n          addLike: currentUser.id,\n        },\n        refetchQueries: [{ query: currentUserQuery }],\n        awaitRefetchQueries: true,\n      });\n    }\n  };\n\n  const onEditClick = () => {\n    deletePost({\n      variables: {\n        id: currentUser.id,\n      },\n      refetchQueries: [{ query: currentUserQuery }],\n      awaitRefetchQueries: true,\n    })\n      .then((res) =>\n        editUser({\n          variables: {\n            id: currentUser.id,\n            deletePost: res.data.addPost.id,\n          },\n          refetchQueries: [{ query: currentUserQuery }],\n          awaitRefetchQueries: true,\n        }).catch((err) => {\n          const errors = err.graphQLErrors?.map((error) => error.message);\n\n          console.log(errors);\n        })\n      )\n      .catch((err) => {\n        const errors = err.graphQLErrors?.map((error) => error.message);\n        console.log(errors);\n      });\n  };\n\n  const onDeleteClick = () => {\n    deletePost({\n      variables: {\n        id: postId,\n      },\n      refetchQueries: [{ query: currentUserQuery }],\n      awaitRefetchQueries: true,\n    })\n      .then((res) =>\n        editUser({\n          variables: {\n            id: currentUser.id,\n            deletePost: postId,\n          },\n          refetchQueries: [{ query: currentUserQuery }],\n          awaitRefetchQueries: true,\n        }).catch((err) => {\n          const errors = err.graphQLErrors?.map((error) => error.message);\n\n          console.log(errors);\n        })\n      )\n      .then(setEditDeleteOpen(!editDeleteOpen))\n      .catch((err) => {\n        const errors = err.graphQLErrors?.map((error) => error.message);\n        console.log(errors);\n      });\n  };\n\n  return (\n    <div className={styles.individualPost0}>\n      <div className={styles.individualPost}>\n        <div className={styles.name_edit_Container}>\n          <div>\n            <div className={styles.picNameContainer}>\n              {profilePic ? (\n                <img className={styles.profilePic} src={profilePic} alt=\"\" />\n              ) : (\n                <img\n                  className={styles.profilePic}\n                  src=\"https://images.unsplash.com/photo-1511367461989-f85a21fda167?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Nnx8cHJvZmlsZXxlbnwwfHwwfHw%3D&w=1000&q=80\"\n                  alt=\"\"\n                />\n              )}\n\n              <div className={styles.nameDateContainer}>\n                <h3 className={styles.name}>{name}</h3>\n                <div className={styles.date}>\n                  {((parseInt(date.slice(16, 18)) + 11) % 12) + 1}\n                  {date.slice(18, 21)}\n                  &nbsp;\n                  {parseInt(date.slice(16, 18)) > 12 ? \"PM\" : \"AM\"}\n                  {date.slice(24, 28)}\n                  &nbsp;\n                  {date.slice(0, 10)}\n                  {date.slice(10, 15)}\n                </div>\n              </div>\n            </div>\n          </div>\n          {userPostIds.includes(postId) ? (\n            <div\n              className={styles.editDots}\n              onClick={() => setEditDeleteOpen(!editDeleteOpen)}\n            >\n              {/* ... */}\n              <EditDeletePost postContent={postContent} postId={postId} />\n            </div>\n          ) : null}\n        </div>\n        <div className={styles.post_likes_and_commentCount_Container}>\n          <h2 className={styles.post}>{postContent}</h2>\n          <div className={styles.likeCommentCountContainer}>\n            <div className={styles.likeCountContainer}>\n              <img\n                className={styles.likeHandImage}\n                alt=\"\"\n                role=\"presentation\"\n                src=\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 16 16'%3e%3cdefs%3e%3clinearGradient id='a' x1='50%25' x2='50%25' y1='0%25' y2='100%25'%3e%3cstop offset='0%25' stop-color='%2318AFFF'/%3e%3cstop offset='100%25' stop-color='%230062DF'/%3e%3c/linearGradient%3e%3cfilter id='c' width='118.8%25' height='118.8%25' x='-9.4%25' y='-9.4%25' filterUnits='objectBoundingBox'%3e%3cfeGaussianBlur in='SourceAlpha' result='shadowBlurInner1' stdDeviation='1'/%3e%3cfeOffset dy='-1' in='shadowBlurInner1' result='shadowOffsetInner1'/%3e%3cfeComposite in='shadowOffsetInner1' in2='SourceAlpha' k2='-1' k3='1' operator='arithmetic' result='shadowInnerInner1'/%3e%3cfeColorMatrix in='shadowInnerInner1' values='0 0 0 0 0 0 0 0 0 0.299356041 0 0 0 0 0.681187726 0 0 0 0.3495684 0'/%3e%3c/filter%3e%3cpath id='b' d='M8 0a8 8 0 00-8 8 8 8 0 1016 0 8 8 0 00-8-8z'/%3e%3c/defs%3e%3cg fill='none'%3e%3cuse fill='url(%23a)' xlink:href='%23b'/%3e%3cuse fill='black' filter='url(%23c)' xlink:href='%23b'/%3e%3cpath fill='white' d='M12.162 7.338c.176.123.338.245.338.674 0 .43-.229.604-.474.725a.73.73 0 01.089.546c-.077.344-.392.611-.672.69.121.194.159.385.015.62-.185.295-.346.407-1.058.407H7.5c-.988 0-1.5-.546-1.5-1V7.665c0-1.23 1.467-2.275 1.467-3.13L7.361 3.47c-.005-.065.008-.224.058-.27.08-.079.301-.2.635-.2.218 0 .363.041.534.123.581.277.732.978.732 1.542 0 .271-.414 1.083-.47 1.364 0 0 .867-.192 1.879-.199 1.061-.006 1.749.19 1.749.842 0 .261-.219.523-.316.666zM3.6 7h.8a.6.6 0 01.6.6v3.8a.6.6 0 01-.6.6h-.8a.6.6 0 01-.6-.6V7.6a.6.6 0 01.6-.6z'/%3e%3c/g%3e%3c/svg%3e\"\n              />\n              <p className={styles.postLikes}>{likeCount}</p>\n            </div>\n\n            <p\n              className={styles.commentCount}\n              onClick={() => setCommentListOpen(!commentListOpen)}\n            >\n              {commentCount} Comments\n            </p>\n          </div>\n        </div>\n        <hr className={styles.hr} />\n        <div className={styles.like_comment_btn_container}>\n          <div className={styles.likeBtn} onClick={() => onLikeClick()}>\n            Like\n          </div>\n          <div\n            className={styles.commentBtn}\n            onClick={() => setCommentOpen(!commentOpen)}\n          >\n            Comment\n          </div>\n        </div>\n        <hr className={styles.hr} />\n        <MakeComment\n          commentOpen={commentOpen}\n          setCommentOpen={setCommentOpen}\n          postId={postId}\n        />\n        <br />\n        <CommentList\n          commentList={commentList}\n          commentListOpen={commentListOpen}\n          setCommentListOpen={setCommentListOpen}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import styles from \"./PostList.module.css\";\nimport { useAppSelector, useAppDispatch } from \"../../../../redux/hooks\";\nimport React, { useState, useEffect } from \"react\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport Post from \"../Post/Post\";\nimport currentUserQuery from \"../../../../GQL/queries/CurrentUser\";\nimport FadeIn from \"react-fade-in\";\n\nconst PostList = () => {\n  let { loading, error, data, refetch } = useQuery(currentUserQuery);\n  const currentUser = useAppSelector((state) => state.currentUser);\n  const [friendList, setFriendList] = useState(\"\");\n  const [postList, setPostList] = useState([]);\n  const [postListDone, setPostListDone] = useState([]);\n  const [listPagination, setListPagination] = useState(10);\n\n  useEffect(() => {\n    refetch();\n    if (currentUser.friends) {\n      setFriendList(currentUser.friends);\n    }\n  }, [currentUser]);\n\n  /* ------------------------- creating list of posts ------------------------- */\n  useEffect(() => {\n    if (friendList) {\n      console.log(\"UMMMMM\", currentUser.posts);\n      const newList = friendList.map((friend, index) => {\n        return friend.posts;\n      });\n      const finishedFriendList = newList.flat();\n      const completeListOfMyPostsAndFriendPosts =\n        currentUser.posts.concat(finishedFriendList);\n      console.log(completeListOfMyPostsAndFriendPosts, \"FINALLY??\");\n      setPostList(completeListOfMyPostsAndFriendPosts);\n    }\n  }, [friendList, currentUser]);\n\n  /* -------------------------- sorting list of posts ------------------------- */\n  useEffect(() => {\n    if (postList.length > 0) {\n      console.log(postList, \"FINALLY22222\");\n      setPostListDone(postList.sort((a, b) => (a.time > b.time ? -1 : 1)));\n    } else {\n      console.log(postList, \"FINALLY3333\");\n      setPostListDone([]);\n    }\n  }, [postList]);\n\n  const renderPosts = () => {\n    if (postListDone.length <= 0) return null;\n    const paginatedPostList = postListDone.slice(0, listPagination);\n    console.log(\"FUCK\", paginatedPostList);\n    return paginatedPostList.map((post, index) => {\n      // console.log(\"post\", post);\n      const unformattedDate = new Date(parseInt(post.time));\n      const date = unformattedDate.toString();\n      return (\n        <div key={index}>\n          <Post\n            name={post.userId.name}\n            profilePic={post.userId.profilePic}\n            date={date}\n            postId={post.id}\n            postContent={post.post}\n            likeCount={post.likedBy.length}\n            likeList={post.likedBy}\n            commentCount={post.comments.length}\n            commentList={post.comments}\n          />\n        </div>\n      );\n    });\n  };\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.postListContainer}>\n        <FadeIn>{renderPosts()}</FadeIn>\n      </div>\n      {postListDone.length > listPagination ? (\n        <div\n          className={styles.loadMoreContainer}\n          onClick={() => setListPagination(listPagination + 5)}\n        >\n          Load More\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default PostList;\n","import styles from \"./HomePage.module.css\";\nimport React, { useState, useEffect } from \"react\";\nimport MakePost from \"../../components/Home/EverythingPosts/MakePost/MakePost\";\nimport PostList from \"../../components/Home/EverythingPosts/PostList/PostList\";\nimport NavBar from \"../../components/Navigation/NavBar/NavBar\";\nconst HomePage = () => {\n  return (\n    <div className={styles.container0}>\n      <div className={styles.container}>\n        <div className={styles.MakePost}>\n          <MakePost />\n        </div>\n        <div className={styles.PostList}>\n          <PostList />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HomePage;\n","import styles from \"./RegisterPage.module.css\";\nimport React, { useState, useEffect } from \"react\";\nimport RegisterForm from \"../../components/Landing/RegisterForm/RegisterForm\";\n\nconst RegisterPage = () => {\n  return (\n    <div className={styles.container}>\n      <RegisterForm />\n    </div>\n  );\n};\n\nexport default RegisterPage;\n","import { gql } from \"@apollo/client\";\n\nexport default gql`\n  mutation addConversation($convoId: ID!, $messages: [String]) {\n    addConversation(convoId: $convoId, messages: $messages) {\n      convoId\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport default gql`\n  mutation editMessage($convoId: ID!, $addMessage: addMessage) {\n    editMessage(convoId: $convoId, addMessage: $addMessage) {\n      convoId\n      messages {\n        senderId\n        body\n      }\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport default gql`\n  query getMessages($convoId: ID!) {\n    messages(convoId: $convoId) {\n      messages {\n        senderId\n        body\n      }\n    }\n  }\n`;\n","import React, { useState, useEffect } from \"react\";\nimport { useMutation, useQuery, useLazyQuery } from \"@apollo/client\";\n\nimport addConversationMutation from \"../../GQL/mutations/addConversation\";\nimport editMessageMutation from \"../../GQL/mutations/editMessage\";\nimport getMessagesQuery from \"../../GQL/queries/getMessages\";\nimport useChatRoom from \"./useChatRoom\";\nimport { useAppSelector, useAppDispatch } from \"../../redux/hooks\";\nimport { setPreviousMessages } from \"../../redux/features/previousMessagesSlice\";\n\nconst useMessages = () => {\n  const currentUser = useAppSelector((state) => state.currentUser);\n  const room = useAppSelector((state) => state.currentRoom.value);\n  // let {\n  //   loading: loadingMessages,\n  //   error: errorMessages,\n  //   data: dataMessages,\n  //   refetch: refetchMessages,\n  // } = useQuery(getMessagesQuery);\n  // useEffect(() => {\n  //   console.log(errorMessages);\n  // }, [errorMessages]);\n\n  const [messageList, setMessageList] = useState([]);\n  const [selectedFriend, setSelectedFriend] = useState(null);\n\n  const [addConversation] = useMutation(addConversationMutation);\n  const [editMessage] = useMutation(editMessageMutation);\n  const dispatch = useAppDispatch();\n\n  let [\n    getCurrentFriendMessages,\n    {\n      loading: messagesLoading,\n      error: messagesError,\n      data: messagesData,\n      networkStatus,\n      called,\n      refetch: messageRefetch,\n    },\n  ] = useLazyQuery(getMessagesQuery, {\n    variables: { convoId: room },\n  });\n\n  /* -------------------------------------------------------------------------- */\n  useEffect(() => {\n    getCurrentFriendMessages();\n  }, [messageList]);\n  /* -------------------------------------------------------------------------- */\n\n  useEffect(() => {\n    if (!messagesError && messagesData) {\n      dispatch(setPreviousMessages([]));\n      if (messagesData.messages[0] !== undefined) {\n        console.log(messagesData.messages);\n        const alteredMessageList = [];\n\n        messagesData.messages[0].messages.map((msg) => {\n          const newMessage = { body: \"\", isOwner: false };\n          if (msg.senderId === currentUser.id) {\n            newMessage.isOwner = true;\n          }\n          newMessage.body = msg.body;\n\n          alteredMessageList.push(newMessage);\n          return null;\n        });\n\n        setMessageList(alteredMessageList);\n\n        dispatch(setPreviousMessages(alteredMessageList));\n      }\n    } else {\n      return null;\n    }\n  }, [messagesData, messagesLoading, currentUser]);\n\n  /* -------------------------------------------------------------------------- */\n  const addMessage = (convoId, body) => {\n    editMessage({\n      variables: {\n        convoId: convoId,\n        addMessage: { senderId: currentUser.id, body: body },\n      },\n    })\n      .then((res) => messageRefetch())\n      .then((res) => setMessageList())\n      .catch((err) => {\n        const errors = err.graphQLErrors?.map((error) => error.message);\n        console.log(errors);\n      });\n  };\n  /* -------------------------------------------------------------------------- */\n  const alteredChatData = async () => {\n    if (messageList.length > 0) {\n      const newMessageList = [];\n      messageList.map((msg) => {\n        const newMessage = { body: \"\", isOwner: false };\n        if (msg.senderId === currentUser.id) {\n          newMessage.isOwner = true;\n        }\n        newMessage.body = msg.body;\n\n        return newMessageList.push(newMessage);\n      });\n      console.log(newMessageList);\n      return newMessageList;\n    }\n  };\n\n  /* -------------------------------------------------------------------------- */\n\n  /* -------------------------------------------------------------------------- */\n\n  /* -------------------------------------------------------------------------- */\n\n  return {\n    messageList,\n    addMessage,\n    currentUser,\n    getCurrentFriendMessages,\n    selectedFriend,\n    setSelectedFriend,\n    setMessageList,\n  };\n  //   }\n};\n\nexport default useMessages;\n","import React, { useEffect, useRef, useState, useCallback } from \"react\";\nimport socketIOClient from \"socket.io-client\";\nimport { sha256, sha224 } from \"js-sha256\";\nimport { useAppSelector, useAppDispatch } from \"../../redux/hooks\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport useMessages from \"./useMessages\";\n\nconst NEW_MESSAGE_EVENT = \"newMessage\";\nconst SOCKET_SERVER_URL = `http://test.omarragab.com`;\n\nconst useChatRoom = () => {\n  const previousMessages = useAppSelector(\n    (state) => state.previousMessages.value\n  );\n  const { addMessage } = useMessages();\n  const room = useAppSelector((state) => state.currentRoom.value);\n\n  const [messages, setMessages] = useState([]);\n  const [conversationId, setConversationId] = useState(null);\n\n  const [hashRoom, setHashRoom] = useState(\"\");\n  const socketRef = useRef();\n  /* -------------------------------------------------------------------------- */\n  useEffect(() => {\n    if (previousMessages) {\n      setMessages(previousMessages);\n    }\n  }, [previousMessages]);\n\n  /* -------------------------------------------------------------------------- */\n\n  /* -------------------------------------------------------------------------- */\n  useEffect(() => {\n    setHashRoom(room);\n  }, [room, hashRoom]);\n  /* -------------------------------------------------------------------------- */\n  useEffect(() => {\n    socketRef.current = socketIOClient(SOCKET_SERVER_URL, {\n      transports: [\"websocket\"],\n      rejectUnauthorized: false,\n    });\n\n    if (hashRoom !== undefined) {\n      socketRef.current.emit(\"setRoom\", hashRoom);\n    }\n\n    socketRef.current.on(NEW_MESSAGE_EVENT, (message) => {\n      const incomingMessage = {\n        ...message,\n        isOwner: message.senderId === socketRef.current.id,\n      };\n\n      // send the new message to the others in the same room.\n      setMessages((messages) => [...messages, incomingMessage]);\n    });\n    return () => {\n      socketRef.current.disconnect(hashRoom);\n    };\n  }, [hashRoom]);\n  /* -------------------------------------------------------------------------- */\n  const sendMessage = (messageBody) => {\n    socketRef.current.emit(NEW_MESSAGE_EVENT, {\n      body: messageBody,\n      senderId: socketRef.current.id,\n      room: room,\n    });\n\n    addMessage(room, messageBody);\n  };\n  /* -------------------------------------------------------------------------- */\n  const combineAddresses = (address1, address2) => {\n    const user1 = [];\n    const user2 = [];\n    const makeUnique = (address, userArray) => {\n      for (let i in address) {\n        const letter = address[i];\n\n        userArray.push(letter);\n      }\n    };\n    makeUnique(address1, user1);\n    makeUnique(address2, user2);\n    user1.push(...user2);\n    const combinedAddresses = user1;\n\n    const sorted = combinedAddresses.sort();\n    const room = sorted.join(\"\");\n\n    const hash = sha256.create();\n    hash.update(room);\n    const hashedRoom = hash.hex();\n\n    return hashedRoom;\n  };\n  /* -------------------------------------------------------------------------- */\n\n  /* -------------------------------------------------------------------------- */\n  return {\n    messages,\n    sendMessage,\n    combineAddresses,\n    conversationId,\n    setConversationId,\n  };\n};\n\nexport default useChatRoom;\n","import styles from \"./ChatBox.module.css\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useMutation, useQuery, useLazyQuery } from \"@apollo/client\";\nimport useChatRoom from \"../useChatRoom\";\nimport useMessages from \"../useMessages\";\nimport { useAppSelector, useAppDispatch } from \"../../../redux/hooks\";\n\nconst ChatBox = ({ currentFriend, chooseRoomPage, setChooseRoomPage }) => {\n  const messageRef = useRef();\n  const { messageList, addMessage, setConvoId } = useMessages();\n  const { messages, sendMessage } = useChatRoom(messageList);\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [finalMessageList, setFinalMessageList] = useState(null);\n  const room = useAppSelector((state) => state.currentRoom.value);\n  const [firsTimeInChat, setFirstTimeInChat] = useState(false);\n  const onlineUsers = useAppSelector((state) => state.onlineUsers.value);\n  /* -------------------------------------------------------------------------- */\n  useEffect(() => {\n    if (chooseRoomPage === true) setFirstTimeInChat(false);\n    console.log(\"room\", chooseRoomPage);\n  }, [chooseRoomPage]);\n\n  useEffect(() => {\n    const scroll = async () => {\n      const delay = (ms) => new Promise((res) => setTimeout(res, ms));\n      if (chooseRoomPage === false && firsTimeInChat === false) {\n        await delay(400);\n        messageRef.current?.scrollIntoView({ behavior: \"auto\" });\n        setFirstTimeInChat(true);\n      } else {\n        if (chooseRoomPage === false) {\n          messageRef.current?.scrollIntoView({ behavior: \"instant\" });\n        }\n      }\n    };\n    scroll();\n  });\n  /* -------------------------------------------------------------------------- */\n  const renderMessages = () => {\n    // ref={messageRef}\n    const listLength = messages.length;\n    return messages.map((msg, index) => {\n      if (index === listLength - 1) {\n        return (\n          <p\n            key={index}\n            ref={messageRef}\n            className={`${msg.isOwner ? styles.blue : styles.red}\n              ${styles.msg}`}\n          >\n            {msg.body}\n          </p>\n        );\n      }\n      return (\n        <p\n          key={index}\n          className={`${msg.isOwner ? styles.blue : styles.red} \n          ${styles.msg}`}\n        >\n          {msg.body}\n        </p>\n      );\n    });\n  };\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (newMessage !== \"\") {\n      sendMessage(newMessage);\n    }\n    // addMessage()\n    setNewMessage(\"\");\n  };\n  /* -------------------------------------------------------------------------- */\n  return (\n    <div className={styles.container}>\n      <div className={styles.friendNameContainer}>\n        <div\n          className={styles.backContainer}\n          onClick={() => setChooseRoomPage(!chooseRoomPage)}\n        >\n          <span className={styles.backArrow}>\n            <p> Rooms </p> <span>&#x21A9;</span>\n          </span>\n        </div>\n\n        {currentFriend ? <h1>{currentFriend.email}</h1> : null}\n\n        {currentFriend ? (\n          onlineUsers.includes(currentFriend.id) ? (\n            <div className={styles.online}></div>\n          ) : (\n            <div className={styles.offline}></div>\n          )\n        ) : null}\n      </div>\n      <div className={styles.messageContainer}>\n        {room === \"\" ? (\n          <div className={styles.noRoomMessageContainer}>\n            Please Select a <br /> Room To Join\n          </div>\n        ) : (\n          <div>\n            <div className={styles.messageList}>\n              {/* messages here */}\n              {renderMessages()}\n              {/* <div ref={messageRef}>{}</div> */}\n            </div>\n          </div>\n        )}\n\n        {/* -------------------------------------------------------------------------- */}\n      </div>\n      <div className={styles.inputBtnContainer}>\n        <form action=\"\" onSubmit={onSubmit}>\n          <input\n            type=\"text\"\n            name=\"\"\n            id=\"\"\n            placeholder=\"Start Chatting\"\n            value={newMessage}\n            onChange={(e) => setNewMessage(e.target.value)}\n          />\n          <button>Send</button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatBox;\n","import React, { useState, useEffect } from \"react\";\nimport styles from \"./RoomList.module.css\";\nimport useChatRoom from \"../useChatRoom\";\nimport { useAppSelector, useAppDispatch } from \"../../../redux/hooks\";\nimport { setRoom } from \"../../../redux/features/roomSlice\";\nimport useMessages from \"../useMessages\";\nimport FadeIn from \"react-fade-in\";\n\nconst RoomsList = ({\n  currentFriend,\n  setCurrentFriend,\n  chooseRoomPage,\n  setChooseRoomPage,\n}) => {\n  const currentUser = useAppSelector((state) => state.currentUser);\n  const onlineUsers = useAppSelector((state) => state.onlineUsers.value);\n  const [activeConversations, setActiveConversations] = useState([]);\n  const [roomChange, setRoomChange] = useState(false);\n  const { getCurrentFriendMessages, selectedFriend, setSelectedFriend } =\n    useMessages();\n  /* -------------------------------------------------------------------------- */\n  const room = useAppSelector((state) => state.currentRoom.value);\n\n  /* -------------------------------------------------------------------------- */\n  const dispatch = useAppDispatch();\n  const { combineAddresses, setConversationId } = useChatRoom(room);\n  /* -------------------------------------------------------------------------- */\n  /* -------------------------------------------------------------------------- */\n\n  useEffect(() => {\n    if (currentUser) {\n      setActiveConversations(currentUser.conversations);\n    }\n    if (selectedFriend) {\n      getCurrentFriendMessages();\n    }\n  }, [currentUser]);\n\n  /* -------------------------------------------------------------------------- */\n  const setRoom_setConvoId_getMessages = (personId, index) => {\n    const hash = combineAddresses(currentUser.id, personId);\n    console.log(hash);\n    return [\n      dispatch(setRoom(hash)),\n      console.log(hash),\n      setSelectedFriend(index),\n      setConversationId(hash),\n      getCurrentFriendMessages(),\n    ];\n  };\n\n  const renderRooms = () => {\n    return activeConversations.map((person, index) => {\n      return (\n        <div\n          className={`${styles.room} ${\n            selectedFriend === index ? styles.selectedRoom : null\n          }`}\n          onClick={() => [\n            setChooseRoomPage(false),\n            setRoom_setConvoId_getMessages(person.id, index),\n            /* ----------------------------- change to name ----------------------------- */\n            setCurrentFriend(person),\n            /* -------------------------------------------------------------------------- */\n            setRoomChange(!roomChange),\n          ]}\n          key={index}\n        >\n          <div className={styles.profilePicNameContainer}>\n            <div className={styles.roomProfilePicContainer}>\n              {person.profilePic ? (\n                <img\n                  className={styles.roomProfilePic}\n                  src={person.profilePic}\n                  alt=\"\"\n                />\n              ) : (\n                <img\n                  className={styles.roomProfilePic}\n                  src=\"https://images.unsplash.com/photo-1511367461989-f85a21fda167?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Nnx8cHJvZmlsZXxlbnwwfHwwfHw%3D&w=1000&q=80\"\n                  alt=\"\"\n                />\n              )}\n            </div>\n            {onlineUsers.includes(person.id) ? (\n              <div className={styles.online}></div>\n            ) : (\n              <div className={styles.offline}></div>\n            )}\n            <h1>{person.email}</h1>\n          </div>\n        </div>\n      );\n    });\n  };\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.title}>\n        <h2 style={{ marginBottom: \"0px\", marginTop: \"0px\" }}>Join Room</h2>\n      </div>\n\n      <div className={styles.roomListContainer}>\n        {/* ------------------------ add message if not chats ------------------------ */}\n        {activeConversations.length > 0 ? (\n          <FadeIn>{renderRooms()}</FadeIn>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default RoomsList;\n","import styles from \"./ChatPage.module.css\";\nimport React, { useState, useEffect } from \"react\";\nimport ChatBox2 from \"../../components/CHAT/ChatBox/ChatBox\";\nimport RoomsList from \"../../components/CHAT/RoomsList/RoomsList\";\n\nconst ChatPage = () => {\n  const [currentFriend, setCurrentFriend] = useState(null);\n  const [chooseRoomPage, setChooseRoomPage] = useState(null);\n  return (\n    <div className={styles.container0}>\n      <div className={styles.container1}>\n        <div className={styles.container2}>\n          <div\n            className={`${styles.chatList} ${\n              chooseRoomPage === true\n                ? styles.listMoveIn\n                : chooseRoomPage === false\n                ? styles.listMoveOut\n                : null\n            }\n            \n           \n            `}\n          >\n            <RoomsList\n              chooseRoomPage={chooseRoomPage}\n              setChooseRoomPage={setChooseRoomPage}\n              setCurrentFriend={setCurrentFriend}\n              currentFriend={currentFriend}\n            />\n          </div>\n          <div\n            className={`${styles.chatArea} ${\n              chooseRoomPage === false\n                ? styles.chatMoveIn\n                : chooseRoomPage === true\n                ? styles.chatMoveOut\n                : null\n            } `}\n          >\n            {/* {chooseRoomPage === false ? ( */}\n            <ChatBox2\n              chooseRoomPage={chooseRoomPage}\n              currentFriend={currentFriend}\n              setChooseRoomPage={setChooseRoomPage}\n              setCurrentFriend={setCurrentFriend}\n            />\n            {/* ) : null} */}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatPage;\n","import styles from \"./Error404Page.module.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport history from \"../../utils/history\";\nimport { useAppSelector, useAppDispatch } from \"../../redux/hooks\";\nimport LoadingSpinner from \"../../components/LoadingSpinner/LoadingSpinner\";\n\n// .then((e) => (e ? history.push(\"/home\") : null))\n\nconst Error404Page = () => {\n  const { pathname } = useLocation();\n\n  return (\n    <div className={styles.container}>\n      <h1 className={styles.title}>Page Not Found</h1>\n      <LoadingSpinner />\n      {/* <button className={styles.btn} onClick={() => history.goBack()}>\n        Return Home\n      </button>\n      {Object.keys(onlineUsers).length} */}\n    </div>\n  );\n};\n\nexport default Error404Page;\n","import React, { useState, useEffect } from \"react\";\nimport styles from \"./Info.module.css\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport mutation from \"../../../GQL/mutations/editUser\";\nimport { useAppSelector, useAppDispatch } from \"../../../redux/hooks\";\nimport query from \"../../../GQL/queries/CurrentUser\";\nimport { current } from \"@reduxjs/toolkit\";\n\n// login({\n//   variables: { email: email, password: password },\n//   refetchQueries: [{ query: query }],\n//   awaitRefetchQueries: true,\n// })\n//   .then((e) => (e ? history.push(\"/home\") : null))\n//   .catch((err) => {\n//     const errors = err.graphQLErrors?.map((error) => error.message);\n//     setErrors(errors);\n//     console.log(errors);\n//   });\n\nconst ProfileInfo = () => {\n  const currentUser = useAppSelector((state) => state.currentUser);\n  let { loading, error, data } = useQuery(query);\n  const [nameText, setNameText] = useState(\"\");\n  const [emailText, setEmailText] = useState(\"\");\n  // const [password, setPassword] = useState(currentUser.password);\n  const [ageText, setAgeText] = useState(\"\");\n  const [editActive, setEditActive] = useState(\"\");\n  // const [change, setChange] = useState(false);\n  /* -------------------------------------------------------------------------- */\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n\n  /* -------------------------------------------------------------------------- */\n  const [editUser] = useMutation(mutation);\n  useEffect(() => {\n    if (data) {\n      const { user2 } = data;\n\n      user2.name === null ? setName(\"\") : setName(user2.name);\n      // user2.name === null ? setNameText(\"\") : setNameText(user2.name);\n      user2.email === null ? setEmail(\"\") : setEmail(user2.email);\n      // setEmail(user2.email);\n      // user2.email === null ? setEmailText(\"\") : setEmailText(user2.email);\n      user2.age === null ? setAge(0) : setAge(user2.age);\n      // user2.age === null ? setAgeText(0) : setAgeText(user2.age);\n      console.log(nameText);\n      console.log(emailText);\n      console.log(ageText);\n    }\n  }, [loading, data, editActive]);\n\n  /* -------------------------------------------------------------------------- */\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    const variables = () => {\n      if (emailText.length >= 1) {\n        return { id: data.user2.id, email: emailText };\n      } else if (ageText >= 1) {\n        return { id: data.user2.id, age: ageText };\n      } else if (nameText.length > 0) {\n        return { id: data.user2.id, name: nameText };\n      }\n    };\n\n    editUser({\n      variables: variables(),\n      refetchQueries: [{ query: query }],\n      awaitRefetchQueries: true,\n    })\n      .then((res) => [console.log(\"INFO\", data), setEditActive(null)])\n      .then((res) => [setAgeText(\"\"), setEmailText(\"\"), setNameText(\"\")])\n      .catch((err) => {\n        const errors = err.graphQLErrors?.map((error) => error.message);\n\n        console.log(errors);\n      });\n  };\n  /* -------------------------------------------------------------------------- */\n\n  const renderInfoItems = () => {\n    const infoItems2 = [\n      {\n        Name: \"Name\",\n        name: name,\n        setName: setName,\n        nametext: nameText,\n        setNameText: setNameText,\n      },\n      {\n        Email: \"Email\",\n        email: email,\n        setEmail: setEmail,\n        emailText: emailText,\n        setEmailText: setEmailText,\n      },\n      {\n        Age: \"Age\",\n        age: age,\n        setAge: setAge,\n        agetext: ageText,\n        setAgeText: setAgeText,\n      },\n    ];\n    const onTextChange = (e, item) => {\n      if (typeof Object.values(item)[1] === typeof 1) {\n        Object.values(item)[2](Number(e.target.value));\n        Object.values(item)[4](Number(e.target.value));\n        console.log(nameText);\n        console.log(ageText);\n      } else {\n        Object.values(item)[2](e.target.value);\n        Object.values(item)[4](e.target.value);\n        console.log(nameText);\n        console.log(ageText);\n      }\n    };\n\n    return infoItems2.map((item, index) => {\n      return (\n        <div key={index}>\n          <div className={styles.infoTopics}>\n            <div className={styles.infoEdit}>\n              <div>\n                {editActive === index ? (\n                  <form onSubmit={onSubmit} className={styles.form}>\n                    <h1>{Object.values(item)[0]}:</h1>\n                    <input\n                      placeholder={Object.values(item)[1]}\n                      className={styles.input}\n                      value={Object.values(item)[3]}\n                      onChange={(e) => onTextChange(e, item)}\n                    />\n                    <div className={styles.inputBtnContainer}>\n                      <button className={styles.checkBtn}>&#10003;</button>\n                      <button\n                        className={styles.xBtn}\n                        onClick={() => setEditActive(\"\")}\n                      >\n                        X\n                      </button>\n                    </div>\n                  </form>\n                ) : (\n                  <h1>\n                    {Object.values(item)[0]}: {Object.values(item)[1]}\n                  </h1>\n                )}\n              </div>\n              <button\n                className={styles.editBtn}\n                onClick={() => setEditActive(index)}\n              >\n                Edit\n              </button>\n            </div>\n          </div>\n          {index !== infoItems2.length - 1 ? (\n            <div className={styles.line}></div>\n          ) : null}\n        </div>\n      );\n    });\n  };\n  /* -------------------------------------------------------------------------- */\n  return (\n    <div className={styles.container}>\n      <div className={styles.title}>\n        <h1>Info</h1>\n      </div>\n      <div className={styles.line}></div>\n      {data ? renderInfoItems() : null}\n    </div>\n  );\n};\n\nexport default ProfileInfo;\n","import React, { useEffect, useState } from \"react\";\nimport styles from \"./ProfilePic.module.css\";\nimport useIPFS from \"../../../utils/useIPFS\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport { useAppSelector, useAppDispatch } from \"../../../redux/hooks\";\nimport editUserMutation from \"../../../GQL/mutations/editUser\";\nimport currentUserQuery from \"../../../GQL/queries/CurrentUser\";\n\nconst ProfilePic = () => {\n  const [editUser] = useMutation(editUserMutation);\n  const { captureFileAndUploadToIPFS } = useIPFS();\n  const [showEditContainer, setShowEditContainer] = useState(true);\n  const currentUser = useAppSelector((state) => state.currentUser);\n  \n  const uploadIPFS_editUser = async (e) => {\n    const url = await captureFileAndUploadToIPFS(e);\n\n    editUser({\n      variables: { id: currentUser.id, profilePic: url },\n      refetchQueries: [{ query: currentUserQuery }],\n      awaitRefetchQueries: true,\n    }).catch((err) => {\n      const errors = err.graphQLErrors?.map((error) => error.message);\n\n      console.log(errors);\n    });\n  };\n\n  return (\n    <div className={styles.container}>\n      {currentUser.profilePic ? (\n        <img className={styles.pic} src={currentUser.profilePic} alt=\"\" />\n      ) : (\n        <img\n          className={styles.pic}\n          src=\"https://images.unsplash.com/photo-1511367461989-f85a21fda167?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Nnx8cHJvZmlsZXxlbnwwfHwwfHw%3D&w=1000&q=80\"\n          alt=\"\"\n        />\n      )}\n\n      {showEditContainer ? (\n        <div className={styles.onHoverContainer}>\n          <label className={styles.fileButtonLabel}>\n            <input\n              type=\"file\"\n              className={styles.fileButton}\n              onChange={(e) => uploadIPFS_editUser(e)}\n            />\n            Edit\n          </label>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default ProfilePic;\n","import styles from \"./ProfilePage.module.css\";\nimport React, { useState, useEffect } from \"react\";\nimport Info from \"../../components/Profile/Info/Info\";\nimport ProfilePic from \"../../components/Profile/ProfilePic/ProfilePic\";\n\nconst ProfilePage = () => {\n  return (\n    <div className={styles.container}>\n      <ProfilePic />\n      <Info />\n    </div>\n  );\n};\n\nexport default ProfilePage;\n","import { gql } from \"@apollo/client\";\n\nexport default gql`\n  query convoExists($convoId: ID!) {\n    conversationExists(convoId: $convoId) {\n      convoId\n    }\n  }\n`;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { useMutation, useQuery, useLazyQuery } from \"@apollo/client\";\nimport mutation from \"../../../GQL/mutations/editUser\";\nimport query from \"../../../GQL/queries/CurrentUser\";\nimport styles from \"./FriendList.module.css\";\nimport convoExists from \"../../../GQL/queries/convoExists\";\nimport { useAppSelector, useAppDispatch } from \"../../../redux/hooks\";\nimport useChatRoom from \"../../CHAT/useChatRoom\";\nimport addConversationMutation from \"../../../GQL/mutations/addConversation\";\nimport FadeIn from \"react-fade-in\";\n\nconst FriendList = ({ friendListOpen, setFriendListOpen }) => {\n  const onlineUsers = useAppSelector((state) => state.onlineUsers.value);\n  const currentUser = useAppSelector((state) => state.currentUser);\n  const { combineAddresses } = useChatRoom();\n  const [editUser] = useMutation(mutation);\n  const [addConversation] = useMutation(addConversationMutation);\n  let { loading, error, data } = useQuery(query);\n  const room = useAppSelector((state) => state.currentRoom.value);\n  const [hash, setHash] = useState(null);\n  const [convoData, setConvoData] = useState(null);\n  const [convoData2, setConvoData2] = useState(\"\");\n  const [friends, setFriends] = useState([]);\n  const [friendId, setFriendId] = useState(\"\");\n  const [clicked, setClicked] = useState(false);\n\n  let [\n    checkIfConvoExists,\n    {\n      loading: convoExistsLoading,\n      error: convoExistsError,\n      data: convoExistsData,\n      refetch,\n    },\n  ] = useLazyQuery(convoExists, {\n    fetchPolicy: \"no-cache\", // Used for first execution\n    nextFetchPolicy: \"no-cache\", // Used for subsequent executions\n    onCompleted: async () => setConvoData(convoExistsData),\n  });\n\n  /* -------------------------------------------------------------------------- */\n  useEffect(() => {\n    setFriends(currentUser.friends);\n    console.log(\"friends online\", onlineUsers);\n  });\n  /* -------------------------------------------------------------------------- */\n\n  const deleteFriend = (friendId) => {\n    editUser({\n      variables: {\n        id: currentUser.id,\n        deleteFriend: friendId,\n      },\n      refetchQueries: [{ query: query }],\n      awaitRefetchQueries: true,\n    })\n      .then(\n        editUser({\n          variables: {\n            id: currentUser.id,\n            deleteConversation: friendId,\n          },\n          refetchQueries: [{ query: query }],\n          awaitRefetchQueries: true,\n        }).catch((err) => {\n          const errors = err.graphQLErrors?.map((error) => error.message);\n\n          console.log(errors);\n        })\n      )\n      .catch((err) => {\n        const errors = err.graphQLErrors?.map((error) => error.message);\n\n        console.log(errors);\n      });\n  };\n  /* -------------------------------------------------------------------------- */\n  /* -------------------------------------------------------------------------- */\n  const addConvoToUser = (clickedFriendId) => {\n    editUser({\n      variables: {\n        id: currentUser.id,\n        addConversation: clickedFriendId,\n      },\n      refetchQueries: [{ query: query }],\n      awaitRefetchQueries: true,\n    }).catch((err) => {\n      const errors = err.graphQLErrors?.map((error) => error.message);\n\n      console.log(errors);\n    });\n  };\n  /* -------------------------------------------------------------------------- */\n  const startConversation = async (convoId, clickedFriendId) => {\n    checkIfConvoExists({\n      variables: {\n        convoId: convoId,\n      },\n    });\n    addConvoToUser(clickedFriendId);\n    setHash(convoId);\n    setClicked(!clicked);\n    setFriendId(clickedFriendId);\n  };\n\n  useEffect(() => {\n    if (convoExistsData && convoExistsLoading === false) {\n      //convoData acts as the old data\n      //so making sure only true if the NEW data is not the same as the OLD data\n      if (convoExistsData !== convoData) {\n        console.log(\"query\", convoExistsData);\n        if (convoExistsData.conversationExists !== null) {\n          console.log(\"User Exists\");\n\n          setHash(null);\n          setConvoData2(convoData);\n        } else if (convoExistsData.conversationExists === null) {\n          console.log(\"DNE\");\n          /* ------------------------ creating new conversation ----------------------- */\n          addConversation({\n            variables: {\n              convoId: hash,\n            },\n            refetchQueries: [\n              checkIfConvoExists({\n                variables: {\n                  convoId: hash,\n                },\n                fetchPolicy: \"no-cache\",\n                nextFetchPolicy: \"no-cache\",\n              }),\n            ],\n\n            awaitRefetchQueries: true,\n          }).catch((err) => {\n            const errors = err.graphQLErrors?.map((error) => error.message);\n\n            console.log(errors);\n          });\n        }\n      }\n    }\n  }, [clicked, convoExistsData !== undefined && convoExistsData]);\n  /* -------------------------------------------------------------------------- */\n\n  const renderFriends = () => {\n    const converstationIds = Array.from(currentUser.conversations, (x) => x.id);\n    console.log(\"FRIENDS FINAL\", friends);\n    if (friends) {\n      return friends.map((friend, index) => {\n        return (\n          <div key={index} className={styles.friendContainer}>\n            <div className={styles.nameEmailContainer}>\n              {friend.profilePic ? (\n                <img\n                  className={styles.friendProfilePic}\n                  src={friend.profilePic}\n                  alt=\"\"\n                />\n              ) : (\n                <img\n                  className={styles.friendProfilePic}\n                  src=\"https://images.unsplash.com/photo-1511367461989-f85a21fda167?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Nnx8cHJvZmlsZXxlbnwwfHwwfHw%3D&w=1000&q=80\"\n                  alt=\"\"\n                />\n              )}\n              <h3 className={styles.name}>{friend.email}</h3>\n              {onlineUsers.includes(friend.id) ? (\n                <div className={styles.online}></div>\n              ) : (\n                <div className={styles.offline}></div>\n              )}\n            </div>\n\n            {/* <h1>{friend.id}</h1> */}\n            <div className={styles.buttons}>\n              {!converstationIds.includes(friend.id) ? (\n                <button\n                  className={styles.startChat}\n                  onClick={() => [\n                    // setHash(combineAddresses(user.id, index)),\n                    startConversation(\n                      combineAddresses(currentUser.id, friend.id),\n                      friend.id\n                    ),\n                  ]}\n                >\n                  Start a Chat\n                </button>\n              ) : (\n                <button\n                  className={styles.chatStarted}\n                  // onClick={() => [\n                  //   // setHash(combineAddresses(user.id, index)),\n                  //   startConversation(\n                  //     combineAddresses(currentUser.id, friend.id),\n                  //     friend.id\n                  //   ),\n                  // ]}\n                >\n                  Start a Chat\n                </button>\n              )}\n              <button\n                className={styles.delete}\n                onClick={() => [deleteFriend(friend.id)]}\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        );\n      });\n    }\n  };\n  /* -------------------------------------------------------------------------- */\n  return (\n    <div className={styles.container}>\n      <div className={styles.titleContainer}>\n        <div\n          className={styles.backArrowContainer}\n          onClick={() => setFriendListOpen(false)}\n        >\n          <p>Find Friends</p>\n          <span className={styles.backArrow}> &#x21AA; </span>\n        </div>\n\n        <h3>Friends</h3>\n      </div>\n      <div className={styles.friendListContainer}>\n        <div className={styles.friendListContainerCenter}>\n          <FadeIn>{renderFriends()}</FadeIn>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FriendList;\n","import { gql } from \"@apollo/client\";\n\nexport default gql`\n  {\n    users {\n      id\n      name\n      email\n      profilePic\n    }\n  }\n`;\n","import React, { useEffect, useState } from \"react\";\nimport { useMutation, useQuery, useLazyQuery } from \"@apollo/client\";\nimport getUsers from \"../../../GQL/queries/getUsers\";\nimport styles from \"./AddFriends.module.css\";\nimport mutation from \"../../../GQL/mutations/editUser\";\nimport currentUserQuery from \"../../../GQL/queries/CurrentUser\";\nimport { useAppSelector, useAppDispatch } from \"../../../redux/hooks\";\n\nconst AddFriends = ({ setFriendListOpen, friendListOpen }) => {\n  const currentUser = useAppSelector((state) => state.currentUser);\n  let { loading, error, data, refetch } = useQuery(getUsers);\n  const [editUser] = useMutation(mutation);\n  const [friends, setFriends] = useState([]);\n  const [searchBarText, setSearchBarText] = useState(\"\");\n  /* -------------------------------------------------------------------------- */\n  useEffect(() => {\n    refetch();\n  }, []);\n\n  /* -------------------------------------------------------------------------- */\n\n  useEffect(() => {\n    currentUser.friends.map((friend, index) => {\n      if (friend.id) {\n        setFriends([...friends, friend.id]);\n      }\n      return null;\n    });\n  }, [currentUser]);\n\n  const addFriend = async (friendId) => {\n    const friendIdList = [];\n\n    currentUser.friends.map((friend, index) => {\n      if (friend.id) {\n        friendIdList.push(friend.id);\n      }\n      return null;\n    });\n\n    console.log(currentUser.friends);\n    const friend = friendIdList.includes(friendId);\n    const me = friendIdList.includes(currentUser.id);\n    console.log(\"friend\", friend);\n    console.log(\"me\", me);\n    console.log(currentUser.friends.id);\n    if (friends) {\n      if (friend) {\n        console.log(\"HELLLOOOOO\");\n        console.log(\"already a friend\");\n        return false;\n      } else {\n        editUser({\n          variables: {\n            id: currentUser.id,\n            addFriend: friendId,\n          },\n          refetchQueries: [{ query: currentUserQuery }],\n          awaitRefetchQueries: true,\n        }).catch((err) => {\n          const errors = err.graphQLErrors?.map((error) => error.message);\n\n          console.log(errors);\n        });\n      }\n    }\n  };\n\n  const renderAvaliableUsers = () => {\n    console.log(\"USERS\", data.users);\n    const noCurrentUserArray = data.users.filter(\n      (user) => user.id !== currentUser.id\n    );\n\n    /* -------------------------------------------------------------------------- */\n    // const noCurrentUserArray1 = noCurrentUserArray.filter(\n    //   (user) => user.id !== currentUser.id\n    // );\n    const arrayOfFriendIds = Array.from(currentUser.friends, (x) => x.id);\n\n    // const hi = noCurrentUserArray.find((item) => item.id === currentUser.id);\n    // console.log(\"ffff\", hi);\n    /* -------------------------------------------------------------------------- */\n\n    // const filteredUser = finalArray.filter((user) =>\n    //   user.email.startswith(searchBarText)\n    // );\n    const avaliableUsers = noCurrentUserArray.map((user, index) => {\n      // if (user.email.startswith(searchBarText)) {\n      if (user.email.startsWith(searchBarText)) {\n        return (\n          <div key={index}>\n            <div className={styles.userCard}>\n              <div className={styles.nameEmailContainer}>\n                {user.profilePic ? (\n                  <img\n                    className={styles.userProfilePic}\n                    src={user.profilePic}\n                    alt=\"\"\n                  />\n                ) : (\n                  <img\n                    className={styles.userProfilePic}\n                    src=\"https://images.unsplash.com/photo-1511367461989-f85a21fda167?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Nnx8cHJvZmlsZXxlbnwwfHwwfHw%3D&w=1000&q=80\"\n                    alt=\"\"\n                  />\n                )}\n                <h2 className={styles.name}>{user.name}</h2>\n                <h4 className={styles.email}>{user.email}</h4>\n              </div>\n              <div className={styles.buttonContainer}>\n                <div className={styles.addFriendButton0}>\n                  {!arrayOfFriendIds.includes(user.id) ? (\n                    <button\n                      onClick={() => addFriend(user.id)}\n                      className={styles.addFriendButton}\n                    >\n                      Add Friend\n                    </button>\n                  ) : (\n                    <button\n                      // onClick={() => addFriend(user.id)}\n                      className={styles.addedFriendButton}\n                    >\n                      Added &#10003;\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n      }\n    });\n    return avaliableUsers;\n  };\n  return (\n    <div className={styles.container}>\n      {/* -------------------------------------------------------------------------- */}\n      <div className={styles.seachContainer}>\n        <div\n          className={styles.backArrowContainer}\n          onClick={() => setFriendListOpen(true)}\n        >\n          <p>Find Friends</p>\n          <span className={styles.backArrow}> &#x21A9; </span>\n        </div>\n        <h3>Search Users</h3>\n        <input\n          type=\"text\"\n          value={searchBarText}\n          onChange={(e) => setSearchBarText(e.target.value)}\n        />\n      </div>\n      {/* -------------------------------------------------------------------------- */}\n      <div className={styles.cardsListContainer}>\n        <div className={styles.paddingBottomWorkingPlaceHolder}>\n          <div className={styles.cardsListContainerCenter}>\n            {data ? renderAvaliableUsers() : null}\n          </div>\n        </div>\n      </div>\n      {/* -------------------------------------------------------------------------- */}\n    </div>\n  );\n};\n\nexport default AddFriends;\n","import React, { useState, useEffect } from \"react\";\nimport styles from \"./FriendPage.module.css\";\nimport FriendList from \"../../components/Friends/FriendList/FriendList\";\nimport AddFriends from \"../../components/Friends/AddFriends/AddFriends\";\n\nconst FriendPage = () => {\n  const [friendListOpen, setFriendListOpen] = useState(null);\n  return (\n    <div className={styles.container0}>\n      <div className={styles.container1}>\n        <div className={styles.container2}>\n          <div\n            className={`${styles.FriendList} ${\n              friendListOpen === true\n                ? styles.listMoveIn\n                : friendListOpen === false\n                ? styles.listMoveOut\n                : null\n            }\n            \n           \n            `}\n          >\n            <FriendList\n              friendListOpen={friendListOpen}\n              setFriendListOpen={setFriendListOpen}\n            />\n          </div>\n\n          <div\n            className={`${styles.AddFriends} ${\n              friendListOpen === false\n                ? styles.chatMoveIn\n                : friendListOpen === true\n                ? styles.chatMoveOut\n                : null\n            } `}\n          >\n            <AddFriends\n              friendListOpen={friendListOpen}\n              setFriendListOpen={setFriendListOpen}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FriendPage;\n","import React, { useState, useEffect } from \"react\";\nimport styles from \"./App.module.css\";\nimport { Router, Route, Switch, useLocation } from \"react-router-dom\";\nimport history from \"./utils/history\";\nimport RequireAuth from \"./utils/requireAuth\";\nimport NavBar from \"./components/Navigation/NavBar/NavBar\";\n\nimport SideNav from \"./components/Navigation/SideNav/SideNav\";\nimport HomePage from \"./_pages/HomePage/HomePage\";\nimport SideBar from \"./components/Navigation/SideBar/SideBar\";\nimport LoginPage from \"./_pages/LoginPage/LoginPage\";\nimport RegisterPage from \"./_pages/RegisterPage/RegisterPage\";\nimport ChatPage from \"./_pages/ChatPage/ChatPage\";\nimport Error404Page from \"./_pages/Error404Page/Error404Page\";\nimport ProfilePage from \"./_pages/ProfilePage/ProfilePage\";\nimport FriendPage from \"./_pages/FriendPage/FriendPage\";\nimport LoadingPage from \"./_pages/LoadingPage/LoadingPage\";\n\nfunction App(props: any) {\n  // const [currentRoute, setCurrentRoute] = useState(document.location.pathname);\n  // const dontShowUp = [\"/\", \"/login\"];\n  // useEffect(() => {\n  //   console.log(currentRoute);\n  // }, [currentRoute]);\n\n  return (\n    <div className={styles.App}>\n      <Router history={history}>\n        <NavBar />\n\n        <div className={styles.SideBar}>{<SideBar />}</div>\n\n        {/* ------------------------------- Full Pages ------------------------------- */}\n        {/* <Switch> */}\n        <Switch>\n          <Route path=\"/home\" exact component={RequireAuth(HomePage)} />\n\n          <Route path=\"/chat\" exact component={RequireAuth(ChatPage)} />\n          <Route path=\"/profile\" exact component={RequireAuth(ProfilePage)} />\n          <Route path=\"/friends\" exact component={RequireAuth(FriendPage)} />\n\n          <Route path=\"/login\" exact component={LoginPage} />\n          <Route path=\"/register\" exact component={RegisterPage} />\n          <Route path=\"/\" exact component={LoginPage} />\n\n          <Route component={Error404Page} />\n        </Switch>\n\n        {/* ------------------------------- Dynamic Pages ------------------------------- */}\n        {/* </Switch> */}\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import { gql } from \"@apollo/client\";\n\nexport default gql`\n  {\n    user2 {\n      id\n    }\n  }\n`;\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport \"./index.css\";\n/* -------------------------------------------------------------------------- */\nimport { Provider } from \"react-redux\";\nimport { store } from \"./redux/store\";\nimport App from \"./App\";\n/* -------------------------------------------------------------------------- */\nimport {\n  ApolloClient,\n  ApolloProvider,\n  InMemoryCache,\n  HttpLink,\n} from \"@apollo/client\";\nimport { persistCache, LocalStorageWrapper } from \"apollo3-cache-persist\";\nimport CurrentUser from \"./GQL/queries/CurrentUser\";\nimport setUser from \"./GQL/queries/setUser\";\n/* -------------------------------------------------------------------------- */\n/* -------------------------------------------------------------------------- */\nconst cache = new InMemoryCache();\nconst init = async () => {\n  await persistCache({\n    cache,\n    storage: window.localStorage,\n  });\n};\n\nconst httpLink = new HttpLink({ uri: \"http://localhost:80/graphql\" });\nconst client = new ApolloClient({\n  link: new HttpLink({\n    // uri: `${process.env.REACT_APP_CLIENT_URL}/graphql`,\n    link: httpLink,\n    // credentials: \"include\",\n  }),\n  cache: cache,\n  connectToDevTools: true,\n});\ntry {\n  cache.readQuery({\n    query: setUser,\n  });\n} catch (error) {\n  cache.writeData({\n    data: {\n      user: [],\n    },\n  });\n}\n/* -------------------------------------------------------------------------- */\n/* -------------------------------------------------------------------------- */\n// const client = new ApolloClient({\n//   link: new HttpLink({\n//     uri: \"http://localhost:4000/graphql\",\n//     credentials: \"include\",\n//   }),\n//   cache: new InMemoryCache(),\n//   connectToDevTools: true,\n// });\n/* -------------------------------------------------------------------------- */\n/* -------------------------------------------------------------------------- */\n\nrender(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </ApolloProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\ninit();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Comment_container__Uuy-y\",\"profilePic_and_CommentContainer\":\"Comment_profilePic_and_CommentContainer__1oxjc\",\"profilePicContainer\":\"Comment_profilePicContainer__1ncxD\",\"profilePic\":\"Comment_profilePic__2K7aj\",\"commentContainer\":\"Comment_commentContainer__FFztR\",\"name\":\"Comment_name__vgEWr\",\"comment\":\"Comment_comment__qZY0i\",\"likeBtn\":\"Comment_likeBtn__2hCtZ\",\"likeCountContainer\":\"Comment_likeCountContainer__XSflT\",\"likeCount\":\"Comment_likeCount__1Uk6j\",\"editDots\":\"Comment_editDots__1wrXI\",\"editCommentPlaceholder\":\"Comment_editCommentPlaceholder__1jOeA\",\"editInput\":\"Comment_editInput__1L2Vx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Info_container__1NMhk\",\"title\":\"Info_title__21bzk\",\"infoTopics\":\"Info_infoTopics__1cGiC\",\"line\":\"Info_line__zuoc0\",\"infoEdit\":\"Info_infoEdit__3cdJc\",\"editBtn\":\"Info_editBtn__7_UDN\",\"checkBtn\":\"Info_checkBtn___6axs\",\"xBtn\":\"Info_xBtn__1oXVw\",\"form\":\"Info_form__1W760\",\"inputBtnContainer\":\"Info_inputBtnContainer__3bbpf\",\"input\":\"Info_input__cXg_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formContainer\":\"LogInForm_formContainer__DaJ8U\",\"title\":\"LogInForm_title__1MbIm\",\"LoadingSpinner\":\"LogInForm_LoadingSpinner__IRFWX\",\"form\":\"LogInForm_form__187K1\",\"btnContainer\":\"LogInForm_btnContainer__PAmE-\",\"button\":\"LogInForm_button__cOHex\",\"login\":\"LogInForm_login__12yzY\",\"horizontalLine\":\"LogInForm_horizontalLine__20wpD\",\"createNewAccount\":\"LogInForm_createNewAccount__26HjQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PostForm_container__1AOLJ\",\"createPostContainer\":\"PostForm_createPostContainer__2xkp4\",\"titleContainer\":\"PostForm_titleContainer__1WJMn\",\"x_svg\":\"PostForm_x_svg__gKoPZ\",\"name_and_pic_Container\":\"PostForm_name_and_pic_Container__1ct2E\",\"LoadingSpinner\":\"PostForm_LoadingSpinner__2rDVG\",\"contentContainer\":\"PostForm_contentContainer__3IadV\",\"content\":\"PostForm_content__3xjP8\",\"inputContainer\":\"PostForm_inputContainer__3TtPt\",\"input\":\"PostForm_input__2cer2\",\"postBtnContainer\":\"PostForm_postBtnContainer__2Yekx\",\"postBtn\":\"PostForm_postBtn__3n_xA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"RoomList_container__2cOrx\",\"title\":\"RoomList_title__1rTUW\",\"roomListContainer\":\"RoomList_roomListContainer__1BX0G\",\"room\":\"RoomList_room__WNS3l\",\"selectedRoom\":\"RoomList_selectedRoom__2ONQm\",\"profilePicNameContainer\":\"RoomList_profilePicNameContainer__3mgoK\",\"roomProfilePicContainer\":\"RoomList_roomProfilePicContainer__1o1sm\",\"roomProfilePic\":\"RoomList_roomProfilePic__3IpI7\",\"online\":\"RoomList_online__2Z9L3\",\"offline\":\"RoomList_offline__1yhUH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container0\":\"ChatPage_container0__2QXx3\",\"container1\":\"ChatPage_container1__25-Wy\",\"container2\":\"ChatPage_container2__3_F4v\",\"listMoveIn\":\"ChatPage_listMoveIn__1ZkBC\",\"listMoveOut\":\"ChatPage_listMoveOut__1y5Dm\",\"chatMoveIn\":\"ChatPage_chatMoveIn__v2k_l\",\"chatMoveOut\":\"ChatPage_chatMoveOut__26gek\",\"chatList\":\"ChatPage_chatList__3T0ev\",\"chatArea\":\"ChatPage_chatArea__1RZM3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container0\":\"FriendPage_container0__MqEfT\",\"container1\":\"FriendPage_container1__uhuE_\",\"container2\":\"FriendPage_container2__1oHYk\",\"listMoveIn\":\"FriendPage_listMoveIn__SIlW2\",\"listMoveOut\":\"FriendPage_listMoveOut__LHfM7\",\"chatMoveIn\":\"FriendPage_chatMoveIn__3Fmny\",\"chatMoveOut\":\"FriendPage_chatMoveOut__1zMRT\",\"FriendList\":\"FriendPage_FriendList__sS02N\",\"AddFriends\":\"FriendPage_AddFriends__23pJd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SideBar_container__1olln\",\"optionList\":\"SideBar_optionList__LaFlW\",\"option\":\"SideBar_option__36hc5\",\"image\":\"SideBar_image__2odyg\",\"active\":\"SideBar_active__2tBnm\",\"open\":\"SideBar_open__3MUGp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SideNav_container__2SnxN\",\"optionList\":\"SideNav_optionList__3lYfr\",\"hamburger\":\"SideNav_hamburger__3CZvF\",\"line\":\"SideNav_line__3kbE_\",\"active\":\"SideNav_active__38PoF\",\"open\":\"SideNav_open__EbTdm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MakeComment_container__3FVzR\",\"formContainer\":\"MakeComment_formContainer__2r07x\",\"profilePicContainer\":\"MakeComment_profilePicContainer__3LBHa\",\"profilePic\":\"MakeComment_profilePic__3ELtH\",\"input\":\"MakeComment_input__4lOZI\",\"btn\":\"MakeComment_btn__DcEfn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MakePost_container__2sv9p\",\"picInputContainer\":\"MakePost_picInputContainer__1VQk4\",\"input\":\"MakePost_input__1uNEI\",\"profilePicContainer\":\"MakePost_profilePicContainer__1AfuX\",\"profilePic\":\"MakePost_profilePic__3u-dA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfilePic_container__1YD5D\",\"pic\":\"ProfilePic_pic__1Hppv\",\"onHoverContainer\":\"ProfilePic_onHoverContainer__3_mqQ\",\"fileButtonLabel\":\"ProfilePic_fileButtonLabel__21d74\",\"fileButton\":\"ProfilePic_fileButton__1feYb\"};"],"sourceRoot":""}